/*! React InstantSearch 5.3.2 | Â© Algolia, inc. | https://community.algolia.com/react-instantsearch */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e.ReactInstantSearch=e.ReactInstantSearch||{},e.ReactInstantSearch.Connectors={}),e.React)}(this,function(e,v){"use strict";var m="default"in v?v.default:v,t="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}var i=r,a=n;function o(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}"function"==typeof t.setTimeout&&(i=setTimeout),"function"==typeof t.clearTimeout&&(a=clearTimeout);var s,c=[],u=!1,f=-1;function l(){u&&s&&(u=!1,s.length?c=s.concat(c):f=-1,c.length&&h())}function h(){if(!u){var e=o(l);u=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,u=!1,function(t){if(a===clearTimeout)return clearTimeout(t);if((a===n||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}(e)}}function d(e,t){this.fun=e,this.array=t}d.prototype.run=function(){this.fun.apply(null,this.array)};function p(){}var g=p,y=p,b=p,R=p,x=p,F=p,_=p;var j=t.performance||{},w=j.now||j.mozNow||j.msNow||j.oNow||j.webkitNow||function(){return(new Date).getTime()};var P=new Date;var O={nextTick:function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||u||o(h)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:g,addListener:y,once:b,off:R,removeListener:x,removeAllListeners:F,emit:_,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*w.call(j),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-P)/1e3}},E="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function S(e,t){return e(t={exports:{}},t.exports),t.exports}function T(e){return function(){return e}}var A=function(){};A.thatReturns=T,A.thatReturnsFalse=T(!1),A.thatReturnsTrue=T(!0),A.thatReturnsNull=T(null),A.thatReturnsThis=function(){return this},A.thatReturnsArgument=function(e){return e};var N=A;var C=function(e,t,r,n,i,a,o,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,i,a,o,s],f=0;(c=new Error(t.replace(/%s/g,function(){return u[f++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},I=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}})()&&Object.assign;var Q=S(function(e){e.exports=function(){function e(e,t,r,n,i,a){"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a&&C(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}var r={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=N,r.PropTypes=r}()});var D=function(){this.__data__=[],this.size=0};var B=function(e,t){return e===t||e!=e&&t!=t};var L=function(e,t){for(var r=e.length;r--;)if(B(e[r][0],t))return r;return-1},k=Array.prototype.splice;var U=function(e){var t=this.__data__,r=L(t,e);return!(r<0||(r==t.length-1?t.pop():k.call(t,r,1),--this.size,0))};var V=function(e){var t=this.__data__,r=L(t,e);return r<0?void 0:t[r][1]};var q=function(e){return-1<L(this.__data__,e)};var W=function(e,t){var r=this.__data__,n=L(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function z(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}z.prototype.clear=D,z.prototype.delete=U,z.prototype.get=V,z.prototype.has=q,z.prototype.set=W;var $=z;var J=function(){this.__data__=new $,this.size=0};var Y=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var G=function(e){return this.__data__.get(e)};var K=function(e){return this.__data__.has(e)},Z="object"==typeof E&&E&&E.Object===Object&&E,X="object"==typeof self&&self&&self.Object===Object&&self,ee=Z||X||Function("return this")(),te=ee.Symbol,re=Object.prototype,ne=re.hasOwnProperty,ie=re.toString,ae=te?te.toStringTag:void 0;var oe=function(e){var t=ne.call(e,ae),r=e[ae];try{e[ae]=void 0}catch(e){}var n=ie.call(e);return t?e[ae]=r:delete e[ae],n},se=Object.prototype.toString;var ce=function(e){return se.call(e)},ue=te?te.toStringTag:void 0;var fe=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ue&&ue in Object(e)?oe(e):ce(e)};var le=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var he,de=function(e){if(!le(e))return!1;var t=fe(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},pe=ee["__core-js_shared__"],ve=(he=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||""))?"Symbol(src)_1."+he:"";var me=function(e){return!!ve&&ve in e},ge=Function.prototype.toString;var ye=function(e){if(null!=e){try{return ge.call(e)}catch(e){}try{return e+""}catch(e){}}return""},be=/^\[object .+?Constructor\]$/,Re=Function.prototype,xe=Object.prototype,Fe=Re.toString,_e=xe.hasOwnProperty,je=RegExp("^"+Fe.call(_e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var we=function(e){return!(!le(e)||me(e))&&(de(e)?je:be).test(ye(e))};var Pe=function(e,t){return null==e?void 0:e[t]};var Se=function(e,t){var r=Pe(e,t);return we(r)?r:void 0},Oe=Se(ee,"Map"),Ee=Se(Object,"create");var Te=function(){this.__data__=Ee?Ee(null):{},this.size=0};var Ae=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ne=Object.prototype.hasOwnProperty;var Ce=function(e){var t=this.__data__;if(Ee){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Ne.call(t,e)?t[e]:void 0},Ie=Object.prototype.hasOwnProperty;var He=function(e){var t=this.__data__;return Ee?void 0!==t[e]:Ie.call(t,e)};var Me=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ee&&void 0===t?"__lodash_hash_undefined__":t,this};function Qe(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qe.prototype.clear=Te,Qe.prototype.delete=Ae,Qe.prototype.get=Ce,Qe.prototype.has=He,Qe.prototype.set=Me;var De=Qe;var Be=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Le=function(e,t){var r=e.__data__;return Be(t)?r["string"==typeof t?"string":"hash"]:r.map};var ke=function(e){var t=Le(this,e).delete(e);return this.size-=t?1:0,t};var Ue=function(e){return Le(this,e).get(e)};var Ve=function(e){return Le(this,e).has(e)};var qe=function(e,t){var r=Le(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function We(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}We.prototype.clear=function(){this.size=0,this.__data__={hash:new De,map:new(Oe||$),string:new De}},We.prototype.delete=ke,We.prototype.get=Ue,We.prototype.has=Ve,We.prototype.set=qe;var ze=We;var $e=function(e,t){var r=this.__data__;if(r instanceof $){var n=r.__data__;if(!Oe||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ze(n)}return r.set(e,t),this.size=r.size,this};function Je(e){var t=this.__data__=new $(e);this.size=t.size}Je.prototype.clear=J,Je.prototype.delete=Y,Je.prototype.get=G,Je.prototype.has=K,Je.prototype.set=$e;var Ye=Je;var Ge=function(e){return this.__data__.has(e)};function Ke(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ze;++t<r;)this.add(e[t])}Ke.prototype.add=Ke.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ke.prototype.has=Ge;var Ze=Ke;var Xe=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var et=function(e,t){return e.has(t)};var tt=function(e,t,r,n,i,a){var o=1&r,s=e.length,c=t.length;if(s!=c&&!(o&&s<c))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var f=-1,l=!0,h=2&r?new Ze:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var d=e[f],p=t[f];if(n)var v=o?n(p,d,f,t,e,a):n(d,p,f,e,t,a);if(void 0!==v){if(v)continue;l=!1;break}if(h){if(!Xe(t,function(e,t){if(!et(h,t)&&(d===e||i(d,e,r,n,a)))return h.push(t)})){l=!1;break}}else if(d!==p&&!i(d,p,r,n,a)){l=!1;break}}return a.delete(e),a.delete(t),l},rt=ee.Uint8Array;var nt=function(e){var r=-1,n=Array(e.size);return e.forEach(function(e,t){n[++r]=[t,e]}),n};var it=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r},at=te?te.prototype:void 0,ot=at?at.valueOf:void 0;var st=function(e,t,r,n,i,a,o){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new rt(e),new rt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return B(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=nt;case"[object Set]":var c=1&n;if(s||(s=it),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=2,o.set(e,t);var f=tt(s(e),s(t),n,i,a,o);return o.delete(e),f;case"[object Symbol]":if(ot)return ot.call(e)==ot.call(t)}return!1};var ct=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e},ut=Array.isArray;var ft=function(e,t,r){var n=t(e);return ut(e)?n:ct(n,r(e))};var lt=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a};var ht=function(){return[]},dt=Object.prototype.propertyIsEnumerable,pt=Object.getOwnPropertySymbols,vt=pt?function(t){return null==t?[]:(t=Object(t),lt(pt(t),function(e){return dt.call(t,e)}))}:ht;var mt=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var gt=function(e){return null!=e&&"object"==typeof e};var yt=function(e){return gt(e)&&"[object Arguments]"==fe(e)},bt=Object.prototype,Rt=bt.hasOwnProperty,xt=bt.propertyIsEnumerable,Ft=yt(function(){return arguments}())?yt:function(e){return gt(e)&&Rt.call(e,"callee")&&!xt.call(e,"callee")};var _t=function(){return!1},jt=S(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r?ee.Buffer:void 0,a=(i?i.isBuffer:void 0)||_t;e.exports=a}),wt=/^(?:0|[1-9]\d*)$/;var Pt=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&wt.test(e))&&-1<e&&e%1==0&&e<t};var St=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},Ot={};Ot["[object Float32Array]"]=Ot["[object Float64Array]"]=Ot["[object Int8Array]"]=Ot["[object Int16Array]"]=Ot["[object Int32Array]"]=Ot["[object Uint8Array]"]=Ot["[object Uint8ClampedArray]"]=Ot["[object Uint16Array]"]=Ot["[object Uint32Array]"]=!0,Ot["[object Arguments]"]=Ot["[object Array]"]=Ot["[object ArrayBuffer]"]=Ot["[object Boolean]"]=Ot["[object DataView]"]=Ot["[object Date]"]=Ot["[object Error]"]=Ot["[object Function]"]=Ot["[object Map]"]=Ot["[object Number]"]=Ot["[object Object]"]=Ot["[object RegExp]"]=Ot["[object Set]"]=Ot["[object String]"]=Ot["[object WeakMap]"]=!1;var Et=function(e){return gt(e)&&St(e.length)&&!!Ot[fe(e)]};var Tt=function(t){return function(e){return t(e)}},At=S(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r&&Z.process,a=function(){try{return i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=a}),Nt=At&&At.isTypedArray,Ct=Nt?Tt(Nt):Et,It=Object.prototype.hasOwnProperty;var Ht=function(e,t){var r=ut(e),n=!r&&Ft(e),i=!r&&!n&&jt(e),a=!r&&!n&&!i&&Ct(e),o=r||n||i||a,s=o?mt(e.length,String):[],c=s.length;for(var u in e)!t&&!It.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Pt(u,c))||s.push(u);return s},Mt=Object.prototype;var Qt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Mt)};var Dt=function(t,r){return function(e){return t(r(e))}},Bt=Dt(Object.keys,Object),Lt=Object.prototype.hasOwnProperty;var kt=function(e){if(!Qt(e))return Bt(e);var t=[];for(var r in Object(e))Lt.call(e,r)&&"constructor"!=r&&t.push(r);return t};var Ut=function(e){return null!=e&&St(e.length)&&!de(e)};var Vt=function(e){return Ut(e)?Ht(e):kt(e)};var qt=function(e){return ft(e,Vt,vt)},Wt=Object.prototype.hasOwnProperty;var zt=function(e,t,r,n,i,a){var o=1&r,s=qt(e),c=s.length;if(c!=qt(t).length&&!o)return!1;for(var u=c;u--;){var f=s[u];if(!(o?f in t:Wt.call(t,f)))return!1}var l=a.get(e);if(l&&a.get(t))return l==t;var h=!0;a.set(e,t),a.set(t,e);for(var d=o;++u<c;){var p=e[f=s[u]],v=t[f];if(n)var m=o?n(v,p,f,t,e,a):n(p,v,f,e,t,a);if(!(void 0===m?p===v||i(p,v,r,n,a):m)){h=!1;break}d||(d="constructor"==f)}if(h&&!d){var g=e.constructor,y=t.constructor;g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(h=!1)}return a.delete(e),a.delete(t),h},$t=Se(ee,"DataView"),Jt=Se(ee,"Promise"),Yt=Se(ee,"Set"),Gt=Se(ee,"WeakMap"),Kt="[object Map]",Zt="[object Promise]",Xt="[object Set]",er="[object WeakMap]",tr="[object DataView]",rr=ye($t),nr=ye(Oe),ir=ye(Jt),ar=ye(Yt),or=ye(Gt),sr=fe;($t&&sr(new $t(new ArrayBuffer(1)))!=tr||Oe&&sr(new Oe)!=Kt||Jt&&sr(Jt.resolve())!=Zt||Yt&&sr(new Yt)!=Xt||Gt&&sr(new Gt)!=er)&&(sr=function(e){var t=fe(e),r="[object Object]"==t?e.constructor:void 0,n=r?ye(r):"";if(n)switch(n){case rr:return tr;case nr:return Kt;case ir:return Zt;case ar:return Xt;case or:return er}return t});var cr=sr,ur="[object Arguments]",fr="[object Array]",lr="[object Object]",hr=Object.prototype.hasOwnProperty;var dr=function(e,t,r,n,i,a){var o=ut(e),s=ut(t),c=o?fr:cr(e),u=s?fr:cr(t),f=(c=c==ur?lr:c)==lr,l=(u=u==ur?lr:u)==lr,h=c==u;if(h&&jt(e)){if(!jt(t))return!1;f=!(o=!0)}if(h&&!f)return a||(a=new Ye),o||Ct(e)?tt(e,t,r,n,i,a):st(e,t,c,r,n,i,a);if(!(1&r)){var d=f&&hr.call(e,"__wrapped__"),p=l&&hr.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,m=p?t.value():t;return a||(a=new Ye),i(v,m,r,n,a)}}return!!h&&(a||(a=new Ye),zt(e,t,r,n,i,a))};var pr=function e(t,r,n,i,a){return t===r||(null==t||null==r||!gt(t)&&!gt(r)?t!=t&&r!=r:dr(t,r,n,i,e,a))};var vr=function(e,t,r,n){var i=r.length,a=i,o=!n;if(null==e)return!a;for(e=Object(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var c=(s=r[i])[0],u=e[c],f=s[1];if(o&&s[2]){if(void 0===u&&!(c in e))return!1}else{var l=new Ye;if(n)var h=n(u,f,c,e,t,l);if(!(void 0===h?pr(f,u,3,n,l):h))return!1}}return!0};var mr=function(e){return e==e&&!le(e)};var gr=function(e){for(var t=Vt(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,mr(i)]}return t};var yr=function(t,r){return function(e){return null!=e&&e[t]===r&&(void 0!==r||t in Object(e))}};var br=function(t){var r=gr(t);return 1==r.length&&r[0][2]?yr(r[0][0],r[0][1]):function(e){return e===t||vr(e,t,r)}};var Rr=function(e){return"symbol"==typeof e||gt(e)&&"[object Symbol]"==fe(e)},xr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fr=/^\w*$/;var _r=function(e,t){if(ut(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Rr(e))||Fr.test(e)||!xr.test(e)||null!=t&&e in Object(t)},jr="Expected a function";function wr(i,a){if("function"!=typeof i||null!=a&&"function"!=typeof a)throw new TypeError(jr);var o=function(){var e=arguments,t=a?a.apply(this,e):e[0],r=o.cache;if(r.has(t))return r.get(t);var n=i.apply(this,e);return o.cache=r.set(t,n)||r,n};return o.cache=new(wr.Cache||ze),o}wr.Cache=ze;var Pr=wr;var Sr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Or=/\\(\\)?/g,Er=function(e){var t=Pr(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}(function(e){var i=[];return 46===e.charCodeAt(0)&&i.push(""),e.replace(Sr,function(e,t,r,n){i.push(r?n.replace(Or,"$1"):t||e)}),i});var Tr=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i},Ar=1/0,Nr=te?te.prototype:void 0,Cr=Nr?Nr.toString:void 0;var Ir=function e(t){if("string"==typeof t)return t;if(ut(t))return Tr(t,e)+"";if(Rr(t))return Cr?Cr.call(t):"";var r=t+"";return"0"==r&&1/t==-Ar?"-0":r};var Hr=function(e){return null==e?"":Ir(e)};var Mr=function(e,t){return ut(e)?e:_r(e,t)?[e]:Er(Hr(e))};var Qr=function(e){if("string"==typeof e||Rr(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var Dr=function(e,t){for(var r=0,n=(t=Mr(t,e)).length;null!=e&&r<n;)e=e[Qr(t[r++])];return r&&r==n?e:void 0};var Br=function(e,t,r){var n=null==e?void 0:Dr(e,t);return void 0===n?r:n};var Lr=function(e,t){return null!=e&&t in Object(e)};var kr=function(e,t,r){for(var n=-1,i=(t=Mr(t,e)).length,a=!1;++n<i;){var o=Qr(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&St(i)&&Pt(o,i)&&(ut(e)||Ft(e))};var Ur=function(e,t){return null!=e&&kr(e,t,Lr)};var Vr=function(r,n){return _r(r)&&mr(n)?yr(Qr(r),n):function(e){var t=Br(e,r);return void 0===t&&t===n?Ur(e,r):pr(n,t,3)}};var qr=function(e){return e};var Wr=function(t){return function(e){return null==e?void 0:e[t]}};var zr=function(t){return function(e){return Dr(e,t)}};var $r=function(e){return _r(e)?Wr(Qr(e)):zr(e)};var Jr=function(e){return"function"==typeof e?e:null==e?qr:"object"==typeof e?ut(e)?Vr(e[0],e[1]):br(e):$r(e)};var Yr=function(o){return function(e,t,r){var n=Object(e);if(!Ut(e)){var i=Jr(t,3);e=Vt(e),t=function(e){return i(n[e],e,n)}}var a=o(e,t,r);return-1<a?n[i?e[a]:a]:void 0}};var Gr=function(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1},Kr=/^\s+|\s+$/g,Zr=/^[-+]0x[0-9a-f]+$/i,Xr=/^0b[01]+$/i,en=/^0o[0-7]+$/i,tn=parseInt;var rn=function(e){if("number"==typeof e)return e;if(Rr(e))return NaN;if(le(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=le(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Kr,"");var r=Xr.test(e);return r||en.test(e)?tn(e.slice(2),r?2:8):Zr.test(e)?NaN:+e};var nn=function(e){return e?(e=rn(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0};var an=function(e){var t=nn(e),r=t%1;return t==t?r?t-r:t:0},on=Math.max;var sn=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:an(r);return i<0&&(i=on(n+i,0)),Gr(e,Jr(t,3),i)},cn=Yr(sn),un=Object.prototype.hasOwnProperty;var fn=function(e){if(null==e)return!0;if(Ut(e)&&(ut(e)||"string"==typeof e||"function"==typeof e.splice||jt(e)||Ct(e)||Ft(e)))return!e.length;var t=cr(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Qt(e))return!kt(e).length;for(var r in e)if(un.call(e,r))return!1;return!0};var ln=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},hn=function(){try{var e=Se(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var dn=function(e,t,r){"__proto__"==t&&hn?hn(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},pn=Object.prototype.hasOwnProperty;var vn=function(e,t,r){var n=e[t];pn.call(e,t)&&B(n,r)&&(void 0!==r||t in e)||dn(e,t,r)};var mn=function(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],c=n?n(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),i?dn(r,s,c):vn(r,s,c)}return r};var gn=function(e,t){return e&&mn(t,Vt(t),e)};var yn=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},bn=Object.prototype.hasOwnProperty;var Rn=function(e){if(!le(e))return yn(e);var t=Qt(e),r=[];for(var n in e)("constructor"!=n||!t&&bn.call(e,n))&&r.push(n);return r};var xn=function(e){return Ut(e)?Ht(e,!0):Rn(e)};var Fn=function(e,t){return e&&mn(t,xn(t),e)},_n=S(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r?ee.Buffer:void 0,a=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=a?a(r):new e.constructor(r);return e.copy(n),n}});var jn=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t};var wn=function(e,t){return mn(e,vt(e),t)},Pn=Dt(Object.getPrototypeOf,Object),Sn=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)ct(t,vt(e)),e=Pn(e);return t}:ht;var On=function(e,t){return mn(e,Sn(e),t)};var En=function(e){return ft(e,xn,Sn)},Tn=Object.prototype.hasOwnProperty;var An=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Tn.call(e,"index")&&(r.index=e.index,r.input=e.input),r};var Nn=function(e){var t=new e.constructor(e.byteLength);return new rt(t).set(new rt(e)),t};var Cn=function(e,t){var r=t?Nn(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},In=/\w*$/;var Hn=function(e){var t=new e.constructor(e.source,In.exec(e));return t.lastIndex=e.lastIndex,t},Mn=te?te.prototype:void 0,Qn=Mn?Mn.valueOf:void 0;var Dn=function(e){return Qn?Object(Qn.call(e)):{}};var Bn=function(e,t){var r=t?Nn(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)};var Ln=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return Nn(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return Cn(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Bn(e,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return Hn(e);case"[object Set]":return new n;case"[object Symbol]":return Dn(e)}},kn=Object.create,Un=function(){function r(){}return function(e){if(!le(e))return{};if(kn)return kn(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}}();var Vn=function(e){return"function"!=typeof e.constructor||Qt(e)?{}:Un(Pn(e))};var qn=function(e){return gt(e)&&"[object Map]"==cr(e)},Wn=At&&At.isMap,zn=Wn?Tt(Wn):qn;var $n=function(e){return gt(e)&&"[object Set]"==cr(e)},Jn=At&&At.isSet,Yn=Jn?Tt(Jn):$n,Gn=1,Kn=2,Zn=4,Xn="[object Arguments]",ei="[object Function]",ti="[object GeneratorFunction]",ri="[object Object]",ni={};ni[Xn]=ni["[object Array]"]=ni["[object ArrayBuffer]"]=ni["[object DataView]"]=ni["[object Boolean]"]=ni["[object Date]"]=ni["[object Float32Array]"]=ni["[object Float64Array]"]=ni["[object Int8Array]"]=ni["[object Int16Array]"]=ni["[object Int32Array]"]=ni["[object Map]"]=ni["[object Number]"]=ni[ri]=ni["[object RegExp]"]=ni["[object Set]"]=ni["[object String]"]=ni["[object Symbol]"]=ni["[object Uint8Array]"]=ni["[object Uint8ClampedArray]"]=ni["[object Uint16Array]"]=ni["[object Uint32Array]"]=!0,ni["[object Error]"]=ni[ei]=ni["[object WeakMap]"]=!1;var ii=function r(n,i,a,e,t,o){var s,c=i&Gn,u=i&Kn,f=i&Zn;if(a&&(s=t?a(n,e,t,o):a(n)),void 0!==s)return s;if(!le(n))return n;var l=ut(n);if(l){if(s=An(n),!c)return jn(n,s)}else{var h=cr(n),d=h==ei||h==ti;if(jt(n))return _n(n,c);if(h==ri||h==Xn||d&&!t){if(s=u||d?{}:Vn(n),!c)return u?On(n,Fn(s,n)):wn(n,gn(s,n))}else{if(!ni[h])return t?n:{};s=Ln(n,h,c)}}o||(o=new Ye);var p=o.get(n);if(p)return p;if(o.set(n,s),Yn(n))return n.forEach(function(e){s.add(r(e,i,a,e,n,o))}),s;if(zn(n))return n.forEach(function(e,t){s.set(t,r(e,i,a,t,n,o))}),s;var v=f?u?En:qt:u?keysIn:Vt,m=l?void 0:v(n);return ln(m||n,function(e,t){m&&(e=n[t=e]),vn(s,t,r(e,i,a,t,n,o))}),s};var ai=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var oi=function(e,t,r){var n=-1,i=e.length;t<0&&(t=i<-t?0:i+t),(r=i<r?i:r)<0&&(r+=i),i=r<t?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a};var si=function(e,t){return t.length<2?e:Dr(e,oi(t,0,-1))};var ci=function(e,t){return t=Mr(t,e),null==(e=si(e,t))||delete e[Qr(ai(t))]},ui=Function.prototype,fi=Object.prototype,li=ui.toString,hi=fi.hasOwnProperty,di=li.call(Object);var pi=function(e){if(!gt(e)||"[object Object]"!=fe(e))return!1;var t=Pn(e);if(null===t)return!0;var r=hi.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&li.call(r)==di};var vi=function(e){return pi(e)?void 0:e},mi=te?te.isConcatSpreadable:void 0;var gi=function(e){return ut(e)||Ft(e)||!!(mi&&e&&e[mi])};var yi=function e(t,r,n,i,a){var o=-1,s=t.length;for(n||(n=gi),a||(a=[]);++o<s;){var c=t[o];0<r&&n(c)?1<r?e(c,r-1,n,i,a):ct(a,c):i||(a[a.length]=c)}return a};var bi=function(e){return null!=e&&e.length?yi(e,1):[]};var Ri=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},xi=Math.max;var Fi=function(a,o,s){return o=xi(void 0===o?a.length-1:o,0),function(){for(var e=arguments,t=-1,r=xi(e.length-o,0),n=Array(r);++t<r;)n[t]=e[o+t];t=-1;for(var i=Array(o+1);++t<o;)i[t]=e[t];return i[o]=s(n),Ri(a,this,i)}};var _i=function(e){return function(){return e}},ji=hn?function(e,t){return hn(e,"toString",{configurable:!0,enumerable:!1,value:_i(t),writable:!0})}:qr,wi=Date.now;var Pi=function(r){var n=0,i=0;return function(){var e=wi(),t=16-(e-i);if(i=e,0<t){if(800<=++n)return arguments[0]}else n=0;return r.apply(void 0,arguments)}},Si=Pi(ji);var Oi=function(e){return Si(Fi(e,void 0,bi),e+"")},Ei=Oi(function(t,e){var r={};if(null==t)return r;var n=!1;e=Tr(e,function(e){return e=Mr(e,t),n||(n=1<e.length),e}),mn(t,En(t),r),n&&(r=ii(r,7,vi));for(var i=e.length;i--;)ci(r,e[i]);return r});var Ti=function(e){return e!=e};var Ai=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1};var Ni=function(e,t,r){return t==t?Ai(e,t,r):Gr(e,Ti,r)};var Ci=function(e,t){return!(null==e||!e.length)&&-1<Ni(e,t,0)};var Ii=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1},Hi=Math.min;var Mi=function(e,t,r){for(var n=r?Ii:Ci,i=e[0].length,a=e.length,o=a,s=Array(a),c=1/0,u=[];o--;){var f=e[o];o&&t&&(f=Tr(f,Tt(t))),c=Hi(f.length,c),s[o]=!r&&(t||120<=i&&120<=f.length)?new Ze(o&&f):void 0}f=e[0];var l=-1,h=s[0];e:for(;++l<i&&u.length<c;){var d=f[l],p=t?t(d):d;if(d=r||0!==d?d:0,!(h?et(h,p):n(u,p,r))){for(o=a;--o;){var v=s[o];if(!(v?et(v,p):n(e[o],p,r)))continue e}h&&h.push(p),u.push(d)}}return u};var Qi=function(e,t){return Si(Fi(e,t,qr),e+"")};var Di=function(e){return gt(e)&&Ut(e)};var Bi=function(e){return Di(e)?e:[]},Li=Qi(function(e){var t=Tr(e,Bi);return t.length&&t[0]===e[0]?Mi(t):[]});var ki=function(c){return function(e,t,r){for(var n=-1,i=Object(e),a=r(e),o=a.length;o--;){var s=a[c?o:++n];if(!1===t(i[s],s,i))break}return e}}();var Ui=function(e,t){return e&&ki(e,t,Vt)};var Vi=function(e){return"function"==typeof e?e:qr};var qi=function(e,t){return e&&Ui(e,Vi(t))};var Wi=function(a,o){return function(e,t){if(null==e)return e;if(!Ut(e))return a(e,t);for(var r=e.length,n=o?r:-1,i=Object(e);(o?n--:++n<r)&&!1!==t(i[n],n,i););return e}}(Ui);var zi=function(e,t){return(ut(e)?ln:Wi)(e,Vi(t))};var $i=function(e,n){var i=[];return Wi(e,function(e,t,r){n(e,t,r)&&i.push(e)}),i};var Ji=function(e,t){return(ut(e)?lt:$i)(e,Jr(t,3))};var Yi=function(e,n){var i=-1,a=Ut(e)?Array(e.length):[];return Wi(e,function(e,t,r){a[++i]=n(e,t,r)}),a};var Gi=function(e,t){return(ut(e)?Tr:Yi)(e,Jr(t,3))};var Ki=function(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r};var Zi=function(e,n,i,a,t){return t(e,function(e,t,r){i=a?(a=!1,e):n(i,e,t,r)}),i};var Xi=function(e,t,r){var n=ut(e)?Ki:Zi,i=arguments.length<3;return n(e,Jr(t,4),r,i,Wi)},ea=Math.max;var ta=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:an(r);return i<0&&(i=ea(n+i,0)),Ni(e,t,i)};var ra=function(e){return"number"==typeof e||gt(e)&&"[object Number]"==fe(e)};var na=function(e){return ra(e)&&e!=+e};var ia=function(e,t){return pr(e,t)};var aa=function(e){return void 0===e};var oa=function(e){return"string"==typeof e||!ut(e)&&gt(e)&&"[object String]"==fe(e)};var sa=function(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&n<=r?e:oi(e,t,r)};var ca=function(e,t){for(var r=e.length;r--&&-1<Ni(t,e[r],0););return r};var ua=function(e,t){for(var r=-1,n=e.length;++r<n&&-1<Ni(t,e[r],0););return r};var fa=function(e){return e.split("")},la=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var ha=function(e){return la.test(e)},da="\\ud800-\\udfff",pa="["+da+"]",va="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ma="\\ud83c[\\udffb-\\udfff]",ga="[^"+da+"]",ya="(?:\\ud83c[\\udde6-\\uddff]){2}",ba="[\\ud800-\\udbff][\\udc00-\\udfff]",Ra="(?:"+va+"|"+ma+")"+"?",xa="[\\ufe0e\\ufe0f]?",Fa=xa+Ra+("(?:\\u200d(?:"+[ga,ya,ba].join("|")+")"+xa+Ra+")*"),_a="(?:"+[ga+va+"?",va,ya,ba,pa].join("|")+")",ja=RegExp(ma+"(?="+ma+")|"+_a+Fa,"g");var wa=function(e){return e.match(ja)||[]};var Pa=function(e){return ha(e)?wa(e):fa(e)},Sa=/^\s+|\s+$/g;var Oa=function(e,t,r){if((e=Hr(e))&&(r||void 0===t))return e.replace(Sa,"");if(!e||!(t=Ir(t)))return e;var n=Pa(e),i=Pa(t),a=ua(n,i),o=ca(n,i)+1;return sa(n,a,o).join("")};var Ea=function(e,t,r){if(!le(r))return!1;var n=typeof t;return!!("number"==n?Ut(r)&&Pt(t,r.length):"string"==n&&t in r)&&B(r[t],e)},Ta=Object.prototype,Aa=Ta.hasOwnProperty,Na=Qi(function(e,t){e=Object(e);var r=-1,n=t.length,i=2<n?t[2]:void 0;for(i&&Ea(t[0],t[1],i)&&(n=1);++r<n;)for(var a=t[r],o=xn(a),s=-1,c=o.length;++s<c;){var u=o[s],f=e[u];(void 0===f||B(f,Ta[u])&&!Aa.call(e,u))&&(e[u]=a[u])}return e});var Ca=function(e,t,r){(void 0===r||B(e[t],r))&&(void 0!==r||t in e)||dn(e,t,r)};var Ia=function(e,t){return"__proto__"==t?void 0:e[t]};var Ha=function(e){return mn(e,xn(e))};var Ma=function(e,t,r,n,i,a,o){var s=Ia(e,r),c=Ia(t,r),u=o.get(c);if(u)Ca(e,r,u);else{var f=a?a(s,c,r+"",e,t,o):void 0,l=void 0===f;if(l){var h=ut(c),d=!h&&jt(c),p=!h&&!d&&Ct(c);f=c,h||d||p?f=ut(s)?s:Di(s)?jn(s):d?_n(c,!(l=!1)):p?Bn(c,!(l=!1)):[]:pi(c)||Ft(c)?Ft(f=s)?f=Ha(s):(!le(s)||n&&de(s))&&(f=Vn(c)):l=!1}l&&(o.set(c,f),i(f,c,n,a,o),o.delete(c)),Ca(e,r,f)}};var Qa=function n(i,a,o,s,c){i!==a&&ki(a,function(e,t){if(le(e))c||(c=new Ye),Ma(i,a,t,o,n,s,c);else{var r=s?s(Ia(i,t),e,t+"",i,a,c):void 0;void 0===r&&(r=e),Ca(i,t,r)}},xn)};var Da=function(s){return Qi(function(e,t){var r=-1,n=t.length,i=1<n?t[n-1]:void 0,a=2<n?t[2]:void 0;for(i=3<s.length&&"function"==typeof i?(n--,i):void 0,a&&Ea(t[0],t[1],a)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var o=t[r];o&&s(e,o,r,i)}return e})}(function(e,t,r){Qa(e,t,r)});var Ba=function e(t){if(ra(t))return t;if(oa(t))return parseFloat(t);if(Array.isArray(t))return Gi(t,e);throw new Error("The value should be a number, a parseable string or an array of those.")};var La=function(r,e){var n={},t=Ji(e,function(e){return-1!==e.indexOf("attribute:")}),i=Gi(t,function(e){return e.split(":")[1]});-1===ta(i,"*")?zi(i,function(e){r.isConjunctiveFacet(e)&&r.isFacetRefined(e)&&(n.facetsRefinements||(n.facetsRefinements={}),n.facetsRefinements[e]=r.facetsRefinements[e]),r.isDisjunctiveFacet(e)&&r.isDisjunctiveFacetRefined(e)&&(n.disjunctiveFacetsRefinements||(n.disjunctiveFacetsRefinements={}),n.disjunctiveFacetsRefinements[e]=r.disjunctiveFacetsRefinements[e]),r.isHierarchicalFacet(e)&&r.isHierarchicalFacetRefined(e)&&(n.hierarchicalFacetsRefinements||(n.hierarchicalFacetsRefinements={}),n.hierarchicalFacetsRefinements[e]=r.hierarchicalFacetsRefinements[e]);var t=r.getNumericRefinements(e);fn(t)||(n.numericRefinements||(n.numericRefinements={}),n.numericRefinements[e]=r.numericRefinements[e])}):(fn(r.numericRefinements)||(n.numericRefinements=r.numericRefinements),fn(r.facetsRefinements)||(n.facetsRefinements=r.facetsRefinements),fn(r.disjunctiveFacetsRefinements)||(n.disjunctiveFacetsRefinements=r.disjunctiveFacetsRefinements),fn(r.hierarchicalFacetsRefinements)||(n.hierarchicalFacetsRefinements=r.hierarchicalFacetsRefinements));var a=Ji(e,function(e){return-1===e.indexOf("attribute:")});return zi(a,function(e){n[e]=r[e]}),n},ka={addRefinement:function(e,t,r){if(ka.isRefined(e,t,r))return e;var n=""+r,i=e[t]?e[t].concat(n):[n],a={};return a[t]=i,Na({},a,e)},removeRefinement:function(e,r,t){if(aa(t))return ka.clearRefinement(e,r);var n=""+t;return ka.clearRefinement(e,function(e,t){return r===t&&n===e})},toggleRefinement:function(e,t,r){if(aa(r))throw new Error("toggleRefinement should be used with a value");return ka.isRefined(e,t,r)?ka.removeRefinement(e,t,r):ka.addRefinement(e,t,r)},clearRefinement:function(e,i,a){if(aa(i))return fn(e)?e:{};if(oa(i))return fn(e[i])?e:Ei(e,i);if(de(i)){var o=!1,t=Xi(e,function(e,t,r){var n=Ji(t,function(e){return!i(e,r,a)});return fn(n)?o=!0:(n.length!==t.length&&(o=!0),e[r]=n),e},{});return o?t:e}},isRefined:function(e,t,r){var n=ta,i=!!e[t]&&0<e[t].length;if(aa(r)||!i)return i;var a=""+r;return-1!==n(e[t],a)}},Ua=ka;function Va(e){var t=e?Va._parseNumbers(e):{};this.index=t.index||"",this.query=t.query||"",this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{},this.numericFilters=t.numericFilters,this.tagFilters=t.tagFilters,this.optionalTagFilters=t.optionalTagFilters,this.optionalFacetFilters=t.optionalFacetFilters,this.hitsPerPage=t.hitsPerPage,this.maxValuesPerFacet=t.maxValuesPerFacet,this.page=t.page||0,this.queryType=t.queryType,this.typoTolerance=t.typoTolerance,this.minWordSizefor1Typo=t.minWordSizefor1Typo,this.minWordSizefor2Typos=t.minWordSizefor2Typos,this.minProximity=t.minProximity,this.allowTyposOnNumericTokens=t.allowTyposOnNumericTokens,this.ignorePlurals=t.ignorePlurals,this.restrictSearchableAttributes=t.restrictSearchableAttributes,this.advancedSyntax=t.advancedSyntax,this.analytics=t.analytics,this.analyticsTags=t.analyticsTags,this.synonyms=t.synonyms,this.replaceSynonymsInHighlight=t.replaceSynonymsInHighlight,this.optionalWords=t.optionalWords,this.removeWordsIfNoResults=t.removeWordsIfNoResults,this.attributesToRetrieve=t.attributesToRetrieve,this.attributesToHighlight=t.attributesToHighlight,this.highlightPreTag=t.highlightPreTag,this.highlightPostTag=t.highlightPostTag,this.attributesToSnippet=t.attributesToSnippet,this.getRankingInfo=t.getRankingInfo,this.distinct=t.distinct,this.aroundLatLng=t.aroundLatLng,this.aroundLatLngViaIP=t.aroundLatLngViaIP,this.aroundRadius=t.aroundRadius,this.minimumAroundRadius=t.minimumAroundRadius,this.aroundPrecision=t.aroundPrecision,this.insideBoundingBox=t.insideBoundingBox,this.insidePolygon=t.insidePolygon,this.snippetEllipsisText=t.snippetEllipsisText,this.disableExactOnAttributes=t.disableExactOnAttributes,this.enableExactOnSingleWordQuery=t.enableExactOnSingleWordQuery,this.offset=t.offset,this.length=t.length;var r=this;qi(t,function(e,t){-1===Va.PARAMETERS.indexOf(t)&&(r[t]=e)})}Va.PARAMETERS=Vt(new Va),Va._parseNumbers=function(n){if(n instanceof Va)return n;var i={};if(zi(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"],function(e){var t=n[e];if(oa(t)){var r=parseFloat(t);i[e]=na(r)?t:r}}),Array.isArray(n.insideBoundingBox)&&(i.insideBoundingBox=n.insideBoundingBox.map(function(e){return e.map(function(e){return parseFloat(e)})})),n.numericRefinements){var a={};zi(n.numericRefinements,function(e,n){a[n]={},zi(e,function(e,t){var r=Gi(e,function(e){return Array.isArray(e)?Gi(e,function(e){return oa(e)?parseFloat(e):e}):oa(e)?parseFloat(e):e});a[n][t]=r})}),i.numericRefinements=a}return Da({},n,i)},Va.make=function(e){var r=new Va(e);return zi(e.hierarchicalFacets,function(e){if(e.rootPath){var t=r.getHierarchicalRefinement(e.name);0<t.length&&0!==t[0].indexOf(e.rootPath)&&(r=r.clearRefinements(e.name)),0===(t=r.getHierarchicalRefinement(e.name)).length&&(r=r.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}}),r},Va.validate=function(e,t){var r=t||{};return e.tagFilters&&r.tagRefinements&&0<r.tagRefinements.length?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):0<e.tagRefinements.length&&r.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&r.numericRefinements&&!fn(r.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):!fn(e.numericRefinements)&&r.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},Va.prototype={constructor:Va,clearRefinements:function(e){var t=Ua.clearRefinement,r={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:t(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:t(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:t(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:t(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return r.numericRefinements===this.numericRefinements&&r.facetsRefinements===this.facetsRefinements&&r.facetsExcludes===this.facetsExcludes&&r.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&r.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(r)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,r){var n=Ba(r);if(this.isNumericRefined(e,t,n))return this;var i=Da({},this.numericRefinements);return i[e]=Da({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(n)):i[e][t]=[n],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.facetsExcludes[e]||[]},removeNumericRefinement:function(r,n,e){if(void 0===e)return void 0!==n?this.isNumericRefined(r,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r&&e.op===n})}):this:this.isNumericRefined(r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r})}):this;var i=Ba(e);return this.isNumericRefined(r,n,i)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r&&e.op===n&&ia(e.val,i)})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(a){if(aa(a))return fn(this.numericRefinements)?this.numericRefinements:{};if(oa(a))return fn(this.numericRefinements[a])?this.numericRefinements:Ei(this.numericRefinements,a);if(de(a)){var o=!1,e=Xi(this.numericRefinements,function(e,t,n){var i={};return zi(t,function(e,t){var r=[];zi(e,function(e){a({val:e,op:t},n,"numeric")||r.push(e)}),fn(r)?o=!0:(r.length!==e.length&&(o=!0),i[t]=r)}),fn(i)||(e[n]=i),e},{});return o?e:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Ua.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:Ua.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Ua.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:Ua.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return Ua.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:Ua.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:Ji(this.facets,function(e){return e!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:Ji(this.disjunctiveFacets,function(e){return e!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:Ji(this.hierarchicalFacets,function(e){return e.name!==t})}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Ua.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:Ua.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Ua.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:Ua.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return Ua.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:Ua.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var e={tagRefinements:Ji(this.tagRefinements,function(e){return e!==t})};return this.setQueryParameters(e)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:Ua.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:Ua.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:Ua.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n={};return void 0!==this.hierarchicalFacetsRefinements[e]&&0<this.hierarchicalFacetsRefinements[e].length&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+r))?-1===t.indexOf(r)?n[e]=[]:n[e]=[t.slice(0,t.lastIndexOf(r))]:n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Na({},n,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");var r={};return r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Na({},r,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))throw new Error(e+" is not refined.");var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:Na({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return-1<ta(this.disjunctiveFacets,e)},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return-1<ta(this.facets,e)},isFacetRefined:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Ua.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Ua.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return Ua.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this.getHierarchicalRefinement(e);return t?-1!==ta(r,t):0<r.length},isNumericRefined:function(e,t,r){if(aa(r)&&aa(t))return!!this.numericRefinements[e];var n=this.numericRefinements[e]&&!aa(this.numericRefinements[e][t]);if(aa(r)||!n)return n;var i,a,o=Ba(r),s=!aa((i=this.numericRefinements[e][t],a=o,cn(i,function(e){return ia(e,a)})));return n&&s},isTagRefined:function(e){return-1!==ta(this.tagRefinements,e)},getRefinedDisjunctiveFacets:function(){var e=Li(Vt(this.numericRefinements),this.disjunctiveFacets);return Vt(this.disjunctiveFacetsRefinements).concat(e).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){return Li(Gi(this.hierarchicalFacets,"name"),Vt(this.hierarchicalFacetsRefinements))},getUnrefinedDisjunctiveFacets:function(){var t=this.getRefinedDisjunctiveFacets();return Ji(this.disjunctiveFacets,function(e){return-1===ta(t,e)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements"],getQueryParams:function(){var r=this.managedParameters,n={};return qi(this,function(e,t){-1===ta(r,t)&&void 0!==e&&(n[t]=e)}),n},getQueryParameter:function(e){if(!this.hasOwnProperty(e))throw new Error("Parameter '"+e+"' is not an attribute of SearchParameters (http://algolia.github.io/algoliasearch-helper-js/docs/SearchParameters.html)");return this[e]},setQueryParameter:function(e,t){if(this[e]===t)return this;var r={};return r[e]=t,this.setQueryParameters(r)},setQueryParameters:function(r){if(!r)return this;var e=Va.validate(this,r);if(e)throw e;var n=Va._parseNumbers(r);return this.mutateMe(function(t){var e=Vt(r);return zi(e,function(e){t[e]=n[e]}),t})},filter:function(e){return La(this,e)},mutateMe:function(e){var t=new this.constructor(this);return e(t,this),t},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return cn(this.hierarchicalFacets,{name:e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))throw new Error("Cannot get the breadcrumb of an unknown hierarchical facet: `"+e+"`");var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n=t.split(r);return Gi(n,Oa)},toString:function(){return JSON.stringify(this,null,2)}};var qa=Va;var Wa=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i};var za=function(e,t){for(var r,n=-1,i=e.length;++n<i;){var a=t(e[n]);void 0!==a&&(r=void 0===r?a:r+a)}return r};var $a=function(e,t){return e&&e.length?za(e,Jr(t,2)):0};var Ja=function(t,e){return Tr(e,function(e){return t[e]})};var Ya=function(e){return null==e?[]:Ja(e,Vt(e))},Ga=Math.max;var Ka=function(e,t,r,n){e=Ut(e)?e:Ya(e),r=r&&!n?an(r):0;var i=e.length;return r<0&&(r=Ga(i+r,0)),oa(e)?r<=i&&-1<e.indexOf(t,r):!!i&&-1<Ni(e,t,r)};var Za=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e};var Xa=function(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=e==e,a=Rr(e),o=void 0!==t,s=null===t,c=t==t,u=Rr(t);if(!s&&!u&&!a&&t<e||a&&o&&c&&!s&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!c)return-1}return 0};var eo=function(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var c=Xa(i[n],a[n]);if(c)return s<=n?c:c*("desc"==r[n]?-1:1)}return e.index-t.index};var to=function(e,n,r){var i=-1;n=Tr(n.length?n:[qr],Tt(Jr));var t=Yi(e,function(t,e,r){return{criteria:Tr(n,function(e){return e(t)}),index:++i,value:t}});return Za(t,function(e,t){return eo(e,t,r)})};var ro=function(e,t,r,n){return null==e?[]:(ut(t)||(t=null==t?[]:[t]),ut(r=n?void 0:r)||(r=null==r?[]:[r]),to(e,t,r))},no=Gt&&new Gt,io=no?function(e,t){return no.set(e,t),e}:qr;var ao=function(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Un(n.prototype),r=n.apply(t,e);return le(r)?r:t}};var oo=function(t,e,r){var n=1&e,i=ao(t);return function e(){return(this&&this!==ee&&this instanceof e?i:t).apply(n?r:this,arguments)}},so=Math.max;var co=function(e,t,r,n){for(var i=-1,a=e.length,o=r.length,s=-1,c=t.length,u=so(a-o,0),f=Array(c+u),l=!n;++s<c;)f[s]=t[s];for(;++i<o;)(l||i<a)&&(f[r[i]]=e[i]);for(;u--;)f[s++]=e[i++];return f},uo=Math.max;var fo=function(e,t,r,n){for(var i=-1,a=e.length,o=-1,s=r.length,c=-1,u=t.length,f=uo(a-s,0),l=Array(f+u),h=!n;++i<f;)l[i]=e[i];for(var d=i;++c<u;)l[d+c]=t[c];for(;++o<s;)(h||i<a)&&(l[d+r[o]]=e[i++]);return l};var lo=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n};var ho=function(){};function po(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}var vo=(po.prototype=Un(ho.prototype)).constructor=po;var mo=no?function(e){return no.get(e)}:function(){},go={},yo=Object.prototype.hasOwnProperty;var bo=function(e){for(var t=e.name+"",r=go[t],n=yo.call(go,t)?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t};function Ro(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}var xo=(Ro.prototype=Un(ho.prototype)).constructor=Ro;var Fo=function(e){if(e instanceof vo)return e.clone();var t=new xo(e.__wrapped__,e.__chain__);return t.__actions__=jn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},_o=Object.prototype.hasOwnProperty;function jo(e){if(gt(e)&&!ut(e)&&!(e instanceof vo)){if(e instanceof xo)return e;if(_o.call(e,"__wrapped__"))return Fo(e)}return new xo(e)}var wo=(jo.prototype=ho.prototype).constructor=jo;var Po=function(e){var t=bo(e),r=wo[t];if("function"!=typeof r||!(t in vo.prototype))return!1;if(e===r)return!0;var n=mo(r);return!!n&&e===n[0]},So=Pi(io),Oo=/\{\n\/\* \[wrapped with (.+)\] \*/,Eo=/,? & /;var To=function(e){var t=e.match(Oo);return t?t[1].split(Eo):[]},Ao=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var No=function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(1<r?"& ":"")+t[n],t=t.join(2<r?", ":" "),e.replace(Ao,"{\n/* [wrapped with "+t+"] */\n")},Co=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var Io=function(r,n){return ln(Co,function(e){var t="_."+e[0];n&e[1]&&!Ci(r,t)&&r.push(t)}),r.sort()};var Ho=function(e,t,r){var n=t+"";return Si(e,No(n,Io(To(n),r)))};var Mo=function(e,t,r,n,i,a,o,s,c,u){var f=8&t;t|=f?32:64,4&(t&=~(f?64:32))||(t&=-4);var l=[e,t,i,f?a:void 0,f?o:void 0,f?void 0:a,f?void 0:o,s,c,u],h=r.apply(void 0,l);return Po(e)&&So(h,l),h.placeholder=n,Ho(h,e,t)};var Qo=function(e){return e.placeholder},Do=Math.min;var Bo=function(e,t){for(var r=e.length,n=Do(t.length,r),i=jn(e);n--;){var a=t[n];e[n]=Pt(a,r)?i[a]:void 0}return e},Lo="__lodash_placeholder__";var ko=function(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r];o!==t&&o!==Lo||(e[r]=Lo,a[i++]=r)}return a},Uo=1,Vo=2,qo=8,Wo=16,zo=128,$o=512;function Jo(u,f,l,h,d,p,v,m,g,y){var b=f&zo,R=f&Uo,x=f&Vo,F=f&(qo|Wo),_=f&$o,j=x?void 0:ao(u);return function e(){for(var t=arguments.length,r=Array(t),n=t;n--;)r[n]=arguments[n];if(F)var i=Qo(e),a=lo(r,i);if(h&&(r=co(r,h,d,F)),p&&(r=fo(r,p,v,F)),t-=a,F&&t<y){var o=ko(r,i);return Mo(u,f,Jo,e.placeholder,l,r,o,m,g,y-t)}var s=R?l:this,c=x?s[u]:u;return t=r.length,m?r=Bo(r,m):_&&1<t&&r.reverse(),b&&g<t&&(r.length=g),this&&this!==ee&&this instanceof e&&(c=j||ao(c)),c.apply(s,r)}}var Yo=Jo;var Go=function(o,s,c){var u=ao(o);return function e(){for(var t=arguments.length,r=Array(t),n=t,i=Qo(e);n--;)r[n]=arguments[n];var a=t<3&&r[0]!==i&&r[t-1]!==i?[]:ko(r,i);return(t-=a.length)<c?Mo(o,s,Yo,e.placeholder,void 0,r,a,void 0,void 0,c-t):Ri(this&&this!==ee&&this instanceof e?u:o,this,r)}};var Ko=function(s,e,c,u){var f=1&e,l=ao(s);return function e(){for(var t=-1,r=arguments.length,n=-1,i=u.length,a=Array(i+r),o=this&&this!==ee&&this instanceof e?l:s;++n<i;)a[n]=u[n];for(;r--;)a[n++]=arguments[++t];return Ri(o,f?c:this,a)}},Zo="__lodash_placeholder__",Xo=Math.min;var es=function(e,t){var r=e[1],n=t[1],i=r|n,a=i<131,o=128==n&&8==r||128==n&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!a&&!o)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?co(c,s,t[4]):s,e[4]=c?ko(e[3],Zo):t[4]}return(s=t[5])&&(c=e[5],e[5]=c?fo(c,s,t[6]):s,e[6]=c?ko(e[5],Zo):t[6]),(s=t[7])&&(e[7]=s),128&n&&(e[8]=null==e[8]?t[8]:Xo(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e},ts=Math.max;var rs=function(e,t,r,n,i,a,o,s){var c=2&t;if(!c&&"function"!=typeof e)throw new TypeError("Expected a function");var u=n?n.length:0;if(u||(t&=-97,n=i=void 0),o=void 0===o?o:ts(an(o),0),s=void 0===s?s:an(s),u-=i?i.length:0,64&t){var f=n,l=i;n=i=void 0}var h=c?void 0:mo(e),d=[e,t,r,n,i,f,l,a,o,s];if(h&&es(d,h),e=d[0],t=d[1],r=d[2],n=d[3],i=d[4],!(s=d[9]=void 0===d[9]?c?0:e.length:ts(d[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)p=8==t||16==t?Go(e,t,s):32!=t&&33!=t||i.length?Yo.apply(void 0,d):Ko(e,t,r,n);else var p=oo(e,t,r);return Ho((h?io:So)(p,d),e,t)},ns=Qi(function(e,t){var r=ko(t,Qo(ns));return rs(e,32,void 0,t,r)});ns.placeholder={};var is=ns,as=Qi(function(e,t){var r=ko(t,Qo(as));return rs(e,64,void 0,t,r)});as.placeholder={};var os=as;var ss=function(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=t<=e?e:t)),e};var cs=function(e,t,r){return e=Hr(e),r=null==r?0:ss(an(r),0,e.length),t=Ir(t),e.slice(r,r+t.length)==t},us=function(e,i){return Xi(e,function(e,t){var r=t.split(":");if(i&&1===r.length){var n=cn(i,function(e){return cs(e,t[0])});n&&(r=n.split(":"))}return e[0].push(r[0]),e[1].push(r[1]),e},[[],[]])};var fs=function(e,t,r,n){if(!le(e))return e;for(var i=-1,a=(t=Mr(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var c=Qr(t[i]),u=r;if(i!=o){var f=s[c];void 0===(u=n?n(f,c,s):void 0)&&(u=le(f)?f:Pt(t[i+1])?[]:{})}vn(s,c,u),s=s[c]}return e};var ls=function(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=Dr(e,o);r(s,o)&&fs(a,Mr(o,e),s)}return a};var hs=function(e,r){if(null==e)return{};var t=Tr(En(e),function(e){return[e]});return r=Jr(r),ls(e,t,function(e,t){return r(e,t[0])})},ds=function(f){return function(e,t){var d,p,v,m,g,r=f.hierarchicalFacets[t],n=f.hierarchicalFacetsRefinements[r.name]&&f.hierarchicalFacetsRefinements[r.name][0]||"",i=f._getHierarchicalFacetSeparator(r),a=f._getHierarchicalRootPath(r),o=f._getHierarchicalShowParentLevel(r),s=us(f._getHierarchicalFacetSortBy(r)),c=(d=s,p=i,v=a,m=o,g=n,function(e,t,r){var n,i,a,o,s,c,u,f=e;if(0<r){var l=0;for(f=e;l<r;)f=f&&cn(f.data,{isRefined:!0}),l++}if(f){var h=(a=f.path||v,o=g,s=p,c=v,u=m,function(e,t){return(!c||0===t.indexOf(c)&&c!==t)&&(!c&&-1===t.indexOf(s)||c&&t.split(s).length-c.split(s).length==1||-1===t.indexOf(s)&&-1===o.indexOf(s)||0===o.indexOf(t)||0===t.indexOf(a+s)&&(u||0===t.indexOf(o)))});f.data=ro(Gi(hs(t.data,h),(n=p,i=g,function(e,t){return{name:Oa(ai(t.split(n))),path:t,count:e,isRefined:i===t||0===i.indexOf(t+n),data:null}})),d[0],d[1])}return e}),u=e;return a&&(u=e.slice(a.split(i).length)),Xi(u,c,{name:f.hierarchicalFacets[t].name,count:null,isRefined:!0,path:null,data:null})}};function ps(e){var r={};return zi(e,function(e,t){r[e]=t}),r}function vs(e,t,r){t&&t[r]&&(e.stats=t[r])}function ms(f,r){var l=r[0];this._rawResults=r,this.query=l.query,this.parsedQuery=l.parsedQuery,this.hits=l.hits,this.index=l.index,this.hitsPerPage=l.hitsPerPage,this.nbHits=l.nbHits,this.nbPages=l.nbPages,this.page=l.page,this.processingTimeMS=$a(r,"processingTimeMS"),this.aroundLatLng=l.aroundLatLng,this.automaticRadius=l.automaticRadius,this.serverUsed=l.serverUsed,this.timeoutCounts=l.timeoutCounts,this.timeoutHits=l.timeoutHits,this.exhaustiveFacetsCount=l.exhaustiveFacetsCount,this.exhaustiveNbHits=l.exhaustiveNbHits,this.userData=l.userData,this.queryID=l.queryID,this.disjunctiveFacets=[],this.hierarchicalFacets=Gi(f.hierarchicalFacets,function(){return[]}),this.facets=[];var e=f.getRefinedDisjunctiveFacets(),h=ps(f.facets),d=ps(f.disjunctiveFacets),n=1,p=this;zi(l.facets,function(e,t){var r,n,i=(r=f.hierarchicalFacets,n=t,cn(r,function(e){return Ka(e.attributes,n)}));if(i){var a=i.attributes.indexOf(t),o=sn(f.hierarchicalFacets,{name:i.name});p.hierarchicalFacets[o][a]={attribute:t,data:e,exhaustive:l.exhaustiveFacetsCount}}else{var s,c=-1!==ta(f.disjunctiveFacets,t),u=-1!==ta(f.facets,t);c&&(s=d[t],p.disjunctiveFacets[s]={name:t,data:e,exhaustive:l.exhaustiveFacetsCount},vs(p.disjunctiveFacets[s],l.facets_stats,t)),u&&(s=h[t],p.facets[s]={name:t,data:e,exhaustive:l.exhaustiveFacetsCount},vs(p.facets[s],l.facets_stats,t))}}),this.hierarchicalFacets=Wa(this.hierarchicalFacets),zi(e,function(e){var a=r[n],o=f.getHierarchicalFacetByName(e);zi(a.facets,function(e,t){var r;if(o){r=sn(f.hierarchicalFacets,{name:o.name});var n=sn(p.hierarchicalFacets[r],{attribute:t});if(-1===n)return;p.hierarchicalFacets[r][n].data=Da({},p.hierarchicalFacets[r][n].data,e)}else{r=d[t];var i=l.facets&&l.facets[t]||{};p.disjunctiveFacets[r]={name:t,data:Na({},e,i),exhaustive:a.exhaustiveFacetsCount},vs(p.disjunctiveFacets[r],a.facets_stats,t),f.disjunctiveFacetsRefinements[t]&&zi(f.disjunctiveFacetsRefinements[t],function(e){!p.disjunctiveFacets[r].data[e]&&-1<ta(f.disjunctiveFacetsRefinements[t],e)&&(p.disjunctiveFacets[r].data[e]=0)})}}),n++}),zi(f.getRefinedHierarchicalFacets(),function(e){var o=f.getHierarchicalFacetByName(e),s=f._getHierarchicalFacetSeparator(o),c=f.getHierarchicalRefinement(e);if(!(0===c.length||c[0].split(s).length<2)){var t=r[n];zi(t.facets,function(e,t){var r=sn(f.hierarchicalFacets,{name:o.name}),n=sn(p.hierarchicalFacets[r],{attribute:t});if(-1!==n){var i={};if(0<c.length){var a=c[0].split(s)[0];i[a]=p.hierarchicalFacets[r][n].data[a]}p.hierarchicalFacets[r][n].data=Na(i,e,p.hierarchicalFacets[r][n].data)}}),n++}}),zi(f.facetsExcludes,function(e,t){var r=h[t];p.facets[r]={name:t,data:l.facets[t],exhaustive:l.exhaustiveFacetsCount},zi(e,function(e){p.facets[r]=p.facets[r]||{name:t},p.facets[r].data=p.facets[r].data||{},p.facets[r].data[e]=0})}),this.hierarchicalFacets=Gi(this.hierarchicalFacets,ds(f)),this.facets=Wa(this.facets),this.disjunctiveFacets=Wa(this.disjunctiveFacets),this._state=f}function gs(e,t){if(!t.data||0===t.data.length)return t;var r=e(Gi(t.data,is(gs,e)));return Da({},t,{data:r})}function ys(e,t){return t.sort(e)}function bs(e,t){var r=cn(e,{name:t});return r&&r.stats}function Rs(e,t,r,n,i){var a=cn(i,{name:r});return{type:t,attributeName:r,name:n,count:Br(a,"data["+n+"]")||0,exhaustive:Br(a,"exhaustive")||!1}}ms.prototype.getFacetByName=function(e){var t={name:e};return cn(this.facets,t)||cn(this.disjunctiveFacets,t)||cn(this.hierarchicalFacets,t)},ms.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],ms.prototype.getFacetValues=function(e,t){var r=function(r,n){var e={name:n};if(r._state.isConjunctiveFacet(n)){var t=cn(r.facets,e);return t?Gi(t.data,function(e,t){return{name:t,count:e,isRefined:r._state.isFacetRefined(n,t),isExcluded:r._state.isExcludeRefined(n,t)}}):[]}if(r._state.isDisjunctiveFacet(n)){var i=cn(r.disjunctiveFacets,e);return i?Gi(i.data,function(e,t){return{name:t,count:e,isRefined:r._state.isDisjunctiveFacetRefined(n,t)}}):[]}if(r._state.isHierarchicalFacet(n))return cn(r.hierarchicalFacets,e)}(this,e);if(!r)throw new Error(e+" is not a retrieved facet.");var n=Na({},t,{sortBy:ms.DEFAULT_SORT});if(Array.isArray(n.sortBy)){var i=us(n.sortBy,ms.DEFAULT_SORT);return Array.isArray(r)?ro(r,i[0],i[1]):gs(os(ro,i[0],i[1]),r)}if(de(n.sortBy))return Array.isArray(r)?r.sort(n.sortBy):gs(is(ys,n.sortBy),r);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},ms.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return bs(this.facets,e);if(this._state.isDisjunctiveFacet(e))return bs(this.disjunctiveFacets,e);throw new Error(e+" is not present in `facets` or `disjunctiveFacets`")},ms.prototype.getRefinements=function(){var r=this._state,n=this,i=[];return zi(r.facetsRefinements,function(e,t){zi(e,function(e){i.push(Rs(r,"facet",t,e,n.facets))})}),zi(r.facetsExcludes,function(e,t){zi(e,function(e){i.push(Rs(r,"exclude",t,e,n.facets))})}),zi(r.disjunctiveFacetsRefinements,function(e,t){zi(e,function(e){i.push(Rs(r,"disjunctive",t,e,n.disjunctiveFacets))})}),zi(r.hierarchicalFacetsRefinements,function(e,t){zi(e,function(e){i.push(function(e,t,r,n){for(var i=cn(n,{name:t}),a=e.getHierarchicalFacetByName(t),o=r.split(a.separator),s=o[o.length-1],c=0;void 0!==i&&c<o.length;++c)i=cn(i.data,{name:o[c]});var u=Br(i,"count"),f=Br(i,"exhaustive");return{type:"hierarchical",attributeName:t,name:s,count:u||0,exhaustive:f||!1}}(r,t,e,n.hierarchicalFacets))})}),zi(r.numericRefinements,function(e,r){zi(e,function(e,t){zi(e,function(e){i.push({type:"numeric",attributeName:r,name:e,numericValue:e,operator:t})})})}),zi(r.tagRefinements,function(e){i.push({type:"tag",attributeName:"_tags",name:e})}),i};var xs=ms,Fs=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8},_s=S(function(e){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}),js=S(function(e,d){var s=/%[sdj%]/g;d.format=function(e){if(!x(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(c(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(s,function(e){if("%%"===e)return"%";if(i<=r)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),o=n[r];r<i;o=n[++r])b(o)||!u(o)?a+=" "+o:a+=" "+c(o);return a},d.deprecate=function(e,t){if(F(E.process))return function(){return d.deprecate(e,t).apply(this,arguments)};var r=!1;return function(){return r||(console.error(t),r=!0),e.apply(this,arguments)}};var n,i={};function c(e,t){var r={seen:[],stylize:o};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),y(t)?r.showHidden=t:t&&d._extend(r,t),F(r.showHidden)&&(r.showHidden=!1),F(r.depth)&&(r.depth=2),F(r.colors)&&(r.colors=!1),F(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),p(r,e,r.depth)}function a(e,t){var r=c.styles[t];return r?"["+c.colors[r][0]+"m"+e+"["+c.colors[r][1]+"m":e}function o(e,t){return e}function p(t,r,n){if(t.customInspect&&r&&P(r.inspect)&&r.inspect!==d.inspect&&(!r.constructor||r.constructor.prototype!==r)){var e=r.inspect(n,t);return x(e)||(e=p(t,e,n)),e}var i=function(e,t){if(F(t))return e.stylize("undefined","undefined");if(x(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(R(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(b(t))return e.stylize("null","null")}(t,r);if(i)return i;var a,o=Object.keys(r),s=(a={},o.forEach(function(e,t){a[e]=!0}),a);if(t.showHidden&&(o=Object.getOwnPropertyNames(r)),w(r)&&(0<=o.indexOf("message")||0<=o.indexOf("description")))return v(r);if(0===o.length){if(P(r)){var c=r.name?": "+r.name:"";return t.stylize("[Function"+c+"]","special")}if(_(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(j(r))return t.stylize(Date.prototype.toString.call(r),"date");if(w(r))return v(r)}var u,f="",l=!1,h=["{","}"];(g(r)&&(l=!0,h=["[","]"]),P(r))&&(f=" [Function"+(r.name?": "+r.name:"")+"]");return _(r)&&(f=" "+RegExp.prototype.toString.call(r)),j(r)&&(f=" "+Date.prototype.toUTCString.call(r)),w(r)&&(f=" "+v(r)),0!==o.length||l&&0!=r.length?n<0?_(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),u=l?function(t,r,n,i,e){for(var a=[],o=0,s=r.length;o<s;++o)S(r,String(o))?a.push(m(t,r,n,i,String(o),!0)):a.push("");return e.forEach(function(e){e.match(/^\d+$/)||a.push(m(t,r,n,i,e,!0))}),a}(t,r,n,s,o):o.map(function(e){return m(t,r,n,s,e,l)}),t.seen.pop(),function(e,t,r){if(60<e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0))return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,f,h)):h[0]+f+h[1]}function v(e){return"["+Error.prototype.toString.call(e)+"]"}function m(e,t,r,n,i,a){var o,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),S(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(c.value)<0?-1<(s=b(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),F(o)){if(a&&i.match(/^\d+$/))return s;o=(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),e.stylize(o,"string"))}return o+": "+s}function g(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function b(e){return null===e}function R(e){return"number"==typeof e}function x(e){return"string"==typeof e}function F(e){return void 0===e}function _(e){return u(e)&&"[object RegExp]"===t(e)}function u(e){return"object"==typeof e&&null!==e}function j(e){return u(e)&&"[object Date]"===t(e)}function w(e){return u(e)&&("[object Error]"===t(e)||e instanceof Error)}function P(e){return"function"==typeof e}function t(e){return Object.prototype.toString.call(e)}function r(e){return e<10?"0"+e.toString(10):e.toString(10)}d.debuglog=function(t){if(F(n)&&(n=""),t=t.toUpperCase(),!i[t])if(new RegExp("\\b"+t+"\\b","i").test(n)){var r=O.pid;i[t]=function(){var e=d.format.apply(d,arguments);console.error("%s %d: %s",t,r,e)}}else i[t]=function(){};return i[t]},(d.inspect=c).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},d.isArray=g,d.isBoolean=y,d.isNull=b,d.isNullOrUndefined=function(e){return null==e},d.isNumber=R,d.isString=x,d.isSymbol=function(e){return"symbol"==typeof e},d.isUndefined=F,d.isRegExp=_,d.isObject=u,d.isDate=j,d.isError=w,d.isFunction=P,d.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},d.isBuffer=Fs;var f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}d.log=function(){var e,t;console.log("%s - %s",(e=new Date,t=[r(e.getHours()),r(e.getMinutes()),r(e.getSeconds())].join(":"),[e.getDate(),f[e.getMonth()],t].join(" ")),d.format.apply(d,arguments))},d.inherits=_s,d._extend=function(e,t){if(!t||!u(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}});js.format,js.deprecate,js.debuglog,js.inspect,js.isArray,js.isBoolean,js.isNull,js.isNullOrUndefined,js.isNumber,js.isString,js.isSymbol,js.isUndefined,js.isRegExp,js.isObject,js.isDate,js.isError,js.isFunction,js.isPrimitive,js.isBuffer,js.log,js.inherits,js._extend;function ws(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var Ps=ws;function Ss(e){return"function"==typeof e}function Os(e){return"object"==typeof e&&null!==e}function Es(e){return void 0===e}function Ts(e,t){this.main=e,this.fn=t,this.lastResults=null}(ws.EventEmitter=ws).prototype._events=void 0,ws.prototype._maxListeners=void 0,ws.defaultMaxListeners=10,ws.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},ws.prototype.emit=function(e){var t,r,n,i,a,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||Os(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(Es(r=this._events[e]))return!1;if(Ss(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(Os(r))for(i=Array.prototype.slice.call(arguments,1),n=(o=r.slice()).length,a=0;a<n;a++)o[a].apply(this,i);return!0},ws.prototype.on=ws.prototype.addListener=function(e,t){var r;if(!Ss(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Ss(t.listener)?t.listener:t),this._events[e]?Os(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,Os(this._events[e])&&!this._events[e].warned&&(r=Es(this._maxListeners)?ws.defaultMaxListeners:this._maxListeners)&&0<r&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},ws.prototype.once=function(e,t){if(!Ss(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},ws.prototype.removeListener=function(e,t){var r,n,i,a;if(!Ss(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(r=this._events[e]).length,n=-1,r===t||Ss(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(Os(r)){for(a=i;0<a--;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},ws.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(Ss(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},ws.prototype.listeners=function(e){return this._events&&this._events[e]?Ss(this._events[e])?[this._events[e]]:this._events[e].slice():[]},ws.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(Ss(t))return 1;if(t)return t.length}return 0},ws.listenerCount=function(e,t){return e.listenerCount(t)},js.inherits(Ts,Ps.EventEmitter),Ts.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},Ts.prototype.getModifiedState=function(e){return this.fn(e)};var As=Ts,Ns={_getQueries:function(i,a){var o=[];return o.push({indexName:i,params:Ns._getHitsSearchParams(a)}),zi(a.getRefinedDisjunctiveFacets(),function(e){o.push({indexName:i,params:Ns._getDisjunctiveFacetSearchParams(a,e)})}),zi(a.getRefinedHierarchicalFacets(),function(e){var t=a.getHierarchicalFacetByName(e),r=a.getHierarchicalRefinement(e),n=a._getHierarchicalFacetSeparator(t);0<r.length&&1<r[0].split(n).length&&o.push({indexName:i,params:Ns._getDisjunctiveFacetSearchParams(a,e,!0)})}),o},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(Ns._getHitsHierarchicalFacetsAttributes(e)),r=Ns._getFacetFilters(e),n=Ns._getNumericFilters(e),i={facets:t,tagFilters:Ns._getTagFilters(e)};return 0<r.length&&(i.facetFilters=r),0<n.length&&(i.numericFilters=n),Da(e.getQueryParams(),i)},_getDisjunctiveFacetSearchParams:function(e,t,r){var n=Ns._getFacetFilters(e,t,r),i=Ns._getNumericFilters(e,t),a={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:Ns._getTagFilters(e),analytics:!1,clickAnalytics:!1},o=e.getHierarchicalFacetByName(t);return a.facets=o?Ns._getDisjunctiveHierarchicalFacetAttribute(e,o,r):t,0<i.length&&(a.numericFilters=i),0<n.length&&(a.facetFilters=n),Da(e.getQueryParams(),a)},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var i=[];return zi(e.numericRefinements,function(e,n){zi(e,function(e,r){t!==n&&zi(e,function(e){if(Array.isArray(e)){var t=Gi(e,function(e){return n+r+e});i.push(t)}else i.push(n+r+e)})})}),i},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(c,u,f){var l=[];return zi(c.facetsRefinements,function(e,t){zi(e,function(e){l.push(t+":"+e)})}),zi(c.facetsExcludes,function(e,t){zi(e,function(e){l.push(t+":-"+e)})}),zi(c.disjunctiveFacetsRefinements,function(e,t){if(t!==u&&e&&0!==e.length){var r=[];zi(e,function(e){r.push(t+":"+e)}),l.push(r)}}),zi(c.hierarchicalFacetsRefinements,function(e,t){var r=e[0];if(void 0!==r){var n,i,a=c.getHierarchicalFacetByName(t),o=c._getHierarchicalFacetSeparator(a),s=c._getHierarchicalRootPath(a);if(u===t){if(-1===r.indexOf(o)||!s&&!0===f||s&&s.split(o).length===r.split(o).length)return;r=s?(i=s.split(o).length-1,s):(i=r.split(o).length-2,r.slice(0,r.lastIndexOf(o))),n=a.attributes[i]}else i=r.split(o).length-1,n=a.attributes[i];n&&l.push([n+":"+r])}}),l},_getHitsHierarchicalFacetsAttributes:function(o){return Xi(o.hierarchicalFacets,function(e,t){var r=o.getHierarchicalRefinement(t.name)[0];if(!r)return e.push(t.attributes[0]),e;var n=o._getHierarchicalFacetSeparator(t),i=r.split(n).length,a=t.attributes.slice(0,i+1);return e.concat(a)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,r){var n=e._getHierarchicalFacetSeparator(t);if(!0===r){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(n).length),[t.attributes[a]]}var o=(e.getHierarchicalRefinement(t.name)[0]||"").split(n).length-1;return t.attributes.slice(0,o+1)},getSearchForFacetQuery:function(e,t,r,n){var i=n.isDisjunctiveFacet(e)?n.clearRefinements(e):n,a={facetQuery:t,facetName:e};return"number"==typeof r&&(a.maxFacetHits=r),Da(Ns._getHitsSearchParams(i),a)}},Cs=Ns;var Is=function(e,n,i,a){return Ui(e,function(e,t,r){n(a,i(e),t,r)}),a};var Hs=function(r,n){return function(e,t){return Is(e,r,n(t),{})}},Ms=Object.prototype.toString,Qs=Hs(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ms.call(t)),e[t]=r},_i(qr)),Ds={advancedSyntax:"aS",allowTyposOnNumericTokens:"aTONT",analyticsTags:"aT",analytics:"a",aroundLatLngViaIP:"aLLVIP",aroundLatLng:"aLL",aroundPrecision:"aP",aroundRadius:"aR",attributesToHighlight:"aTH",attributesToRetrieve:"aTR",attributesToSnippet:"aTS",disjunctiveFacetsRefinements:"dFR",disjunctiveFacets:"dF",distinct:"d",facetsExcludes:"fE",facetsRefinements:"fR",facets:"f",getRankingInfo:"gRI",hierarchicalFacetsRefinements:"hFR",hierarchicalFacets:"hF",highlightPostTag:"hPoT",highlightPreTag:"hPrT",hitsPerPage:"hPP",ignorePlurals:"iP",index:"idx",insideBoundingBox:"iBB",insidePolygon:"iPg",length:"l",maxValuesPerFacet:"mVPF",minimumAroundRadius:"mAR",minProximity:"mP",minWordSizefor1Typo:"mWS1T",minWordSizefor2Typos:"mWS2T",numericFilters:"nF",numericRefinements:"nR",offset:"o",optionalWords:"oW",page:"p",queryType:"qT",query:"q",removeWordsIfNoResults:"rWINR",replaceSynonymsInHighlight:"rSIH",restrictSearchableAttributes:"rSA",synonyms:"s",tagFilters:"tF",tagRefinements:"tR",typoTolerance:"tT",optionalTagFilters:"oTF",optionalFacetFilters:"oFF",snippetEllipsisText:"sET",disableExactOnAttributes:"dEOA",enableExactOnSingleWordQuery:"eEOSWQ"},Bs=Qs(Ds),Ls={ENCODED_PARAMETERS:Vt(Bs),decode:function(e){return Bs[e]},encode:function(e){return Ds[e]}},ks=S(function(e,a){var o=Object.prototype.hasOwnProperty,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();a.arrayToObject=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},a.merge=function(r,n,i){if(!n)return r;if("object"!=typeof n){if(Array.isArray(r))r.push(n);else{if("object"!=typeof r)return[r,n];(i.plainObjects||i.allowPrototypes||!o.call(Object.prototype,n))&&(r[n]=!0)}return r}if("object"!=typeof r)return[r].concat(n);var e=r;return Array.isArray(r)&&!Array.isArray(n)&&(e=a.arrayToObject(r,i)),Array.isArray(r)&&Array.isArray(n)?(n.forEach(function(e,t){o.call(r,t)?r[t]&&"object"==typeof r[t]?r[t]=a.merge(r[t],e,i):r.push(e):r[t]=e}),r):Object.keys(n).reduce(function(e,t){var r=n[t];return o.call(e,t)?e[t]=a.merge(e[t],r,i):e[t]=r,e},e)},a.assign=function(e,r){return Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},e)},a.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},a.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",n=0;n<t.length;++n){var i=t.charCodeAt(n);45===i||46===i||95===i||126===i||48<=i&&i<=57||65<=i&&i<=90||97<=i&&i<=122?r+=t.charAt(n):i<128?r+=s[i]:i<2048?r+=s[192|i>>6]+s[128|63&i]:i<55296||57344<=i?r+=s[224|i>>12]+s[128|i>>6&63]+s[128|63&i]:(n+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),r+=s[240|i>>18]+s[128|i>>12&63]+s[128|i>>6&63]+s[128|63&i])}return r},a.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],o=Object.keys(a),s=0;s<o.length;++s){var c=o[s],u=a[c];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:a,prop:c}),r.push(u))}return function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var n=[],i=0;i<t.length;++i)void 0!==t[i]&&n.push(t[i]);r.obj[r.prop]=n}}return t}(t)},a.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},a.isBuffer=function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}}),Us=(ks.arrayToObject,ks.merge,ks.assign,ks.decode,ks.encode,ks.compact,ks.isRegExp,ks.isBuffer,String.prototype.replace),Vs=/%20/g,qs={default:"RFC3986",formatters:{RFC1738:function(e){return Us.call(e,Vs,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"},Ws={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},zs=Date.prototype.toISOString,$s={delimiter:"&",encode:!0,encoder:ks.encode,encodeValuesOnly:!1,serializeDate:function(e){return zs.call(e)},skipNulls:!1,strictNullHandling:!1},Js=function e(t,r,n,i,a,o,s,c,u,f,l,h){var d=t;if("function"==typeof s)d=s(r,d);else if(d instanceof Date)d=f(d);else if(null===d){if(i)return o&&!h?o(r,$s.encoder):r;d=""}if("string"==typeof d||"number"==typeof d||"boolean"==typeof d||ks.isBuffer(d))return o?[l(h?r:o(r,$s.encoder))+"="+l(o(d,$s.encoder))]:[l(r)+"="+l(String(d))];var p,v=[];if(void 0===d)return v;if(Array.isArray(s))p=s;else{var m=Object.keys(d);p=c?m.sort(c):m}for(var g=0;g<p.length;++g){var y=p[g];a&&null===d[y]||(v=Array.isArray(d)?v.concat(e(d[y],n(r,y),n,i,a,o,s,c,u,f,l,h)):v.concat(e(d[y],r+(u?"."+y:"["+y+"]"),n,i,a,o,s,c,u,f,l,h)))}return v},Ys=Object.prototype.hasOwnProperty,Gs={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:ks.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},Ks=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(n),o=a?n.slice(0,a.index):n,s=[];if(o){if(!r.plainObjects&&Ys.call(Object.prototype,o)&&!r.allowPrototypes)return;s.push(o)}for(var c=0;null!==(a=i.exec(n))&&c<r.depth;){if(c+=1,!r.plainObjects&&Ys.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(a[1])}return a&&s.push("["+n.slice(a.index)+"]"),function(e,t,r){for(var n=t,i=e.length-1;0<=i;--i){var a,o=e[i];if("[]"===o)a=(a=[]).concat(n);else{a=r.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,c=parseInt(s,10);!isNaN(c)&&o!==s&&String(c)===s&&0<=c&&r.parseArrays&&c<=r.arrayLimit?(a=[])[c]=n:a[s]=n}n=a}return n}(s,t,r)}},Zs=function(e,t){var r=t?ks.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||ks.isRegExp(r.delimiter)?r.delimiter:Gs.delimiter,r.depth="number"==typeof r.depth?r.depth:Gs.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:Gs.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:Gs.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:Gs.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:Gs.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:Gs.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:Gs.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:Gs.strictNullHandling,""===e||null==e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?function(e,t){for(var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,a=n.split(t.delimiter,i),o=0;o<a.length;++o){var s,c,u=a[o],f=u.indexOf("]="),l=-1===f?u.indexOf("="):f+1;c=-1===l?(s=t.decoder(u,Gs.decoder),t.strictNullHandling?null:""):(s=t.decoder(u.slice(0,l),Gs.decoder),t.decoder(u.slice(l+1),Gs.decoder)),Ys.call(r,s)?r[s]=[].concat(r[s]).concat(c):r[s]=c}return r}(e,r):e,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o){var s=a[o],c=Ks(s,n[s],r);i=ks.merge(i,c,r)}return ks.compact(i)},Xs=function(e,t){var r=e,n=t?ks.assign({},t):{};if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var i=void 0===n.delimiter?$s.delimiter:n.delimiter,a="boolean"==typeof n.strictNullHandling?n.strictNullHandling:$s.strictNullHandling,o="boolean"==typeof n.skipNulls?n.skipNulls:$s.skipNulls,s="boolean"==typeof n.encode?n.encode:$s.encode,c="function"==typeof n.encoder?n.encoder:$s.encoder,u="function"==typeof n.sort?n.sort:null,f=void 0!==n.allowDots&&n.allowDots,l="function"==typeof n.serializeDate?n.serializeDate:$s.serializeDate,h="boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:$s.encodeValuesOnly;if(void 0===n.format)n.format=qs.default;else if(!Object.prototype.hasOwnProperty.call(qs.formatters,n.format))throw new TypeError("Unknown format option provided.");var d,p,v=qs.formatters[n.format];"function"==typeof n.filter?r=(p=n.filter)("",r):Array.isArray(n.filter)&&(d=p=n.filter);var m,g=[];if("object"!=typeof r||null===r)return"";m=n.arrayFormat in Ws?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var y=Ws[m];d||(d=Object.keys(r)),u&&d.sort(u);for(var b=0;b<d.length;++b){var R=d[b];o&&null===r[R]||(g=g.concat(Js(r[R],R,y,a,o,s?c:null,p,u,f,l,v,h)))}var x=g.join(i),F=!0===n.addQueryPrefix?"?":"";return 0<x.length?F+x:""},ec=Qi(function(e,t,r){var n=1;if(r.length){var i=ko(r,Qo(ec));n|=32}return rs(e,n,t,r,i)});ec.placeholder={};var tc=ec;var rc=function(r,e){return ls(r,e,function(e,t){return Ur(r,t)})},nc=Oi(function(e,t){return null==e?{}:rc(e,t)});var ic=function(e,n){var i={};return n=Jr(n,3),Ui(e,function(e,t,r){dn(i,n(e,t,r),e)}),i};var ac=function(e,n){var i={};return n=Jr(n,3),Ui(e,function(e,t,r){dn(i,t,n(e,t,r))}),i},oc=ks.encode;function sc(e){return pi(e)?ac(e,sc):Array.isArray(e)?Gi(e,sc):oa(e)?oc(e):e}var cc=["dFR","fR","nR","hFR","tR"],uc=Ls.ENCODED_PARAMETERS;function fc(e,t,r,n){if(null!==e&&(r=r.replace(e,""),n=n.replace(e,"")),r=t[r]||r,n=t[n]||n,-1!==uc.indexOf(r)||-1!==uc.indexOf(n)){if("q"===r)return-1;if("q"===n)return 1;var i=-1!==cc.indexOf(r),a=-1!==cc.indexOf(n);if(i&&!a)return 1;if(a&&!i)return-1}return r.localeCompare(n)}var lc={getStateFromQueryString:function(e,t){var n=t&&t.prefix||"",r=t&&t.mapping||{},i=Qs(r),a=Zs(e),o=new RegExp("^"+n),s=ic(a,function(e,t){var r=n&&o.test(t)?t.replace(o,""):t;return Ls.decode(i[r]||r)||r}),c=qa._parseNumbers(s);return nc(c,qa.PARAMETERS)},getUnrecognizedParametersInQueryString:function(e,t){var r=t&&t.prefix,n=t&&t.mapping||{},i=Qs(n),a={},o=Zs(e);if(r){var s=new RegExp("^"+r);zi(o,function(e,t){s.test(t)||(a[t]=e)})}else zi(o,function(e,t){Ls.decode(i[t]||t)||(a[t]=e)});return a},getQueryStringFromState:function(e,t){var r=t&&t.moreAttributes,n=t&&t.prefix||"",i=t&&t.mapping||{},a=t&&t.safe||!1,o=Qs(i),s=a?e:sc(e),c=ic(s,function(e,t){var r=Ls.encode(t);return n+(i[r]||r)}),u=""===n?null:new RegExp("^"+n),f=tc(fc,null,u,o);if(fn(r))return Xs(c,{encode:a,sort:f});var l=Xs(c,{encode:a,sort:f}),h=Xs(r,{encode:a});return l?l+"&"+h:h}},hc="2.26.0";function dc(e,t,r){e.addAlgoliaAgent&&!mc(e)&&e.addAlgoliaAgent("JS Helper "+hc),this.setClient(e);var n=r||{};n.index=t,this.state=qa.make(n),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function pc(e){if(e<0)throw new Error("Page requested below 0.");return this._change(this.state.setPage(e)),this}function vc(){return this.state.page}function mc(e){var t=e._ua;return!!t&&-1!==t.indexOf("JS Helper")}js.inherits(dc,Ps.EventEmitter),dc.prototype.search=function(){return this._search(),this},dc.prototype.getQuery=function(){var e=this.state;return Cs._getHitsSearchParams(e)},dc.prototype.searchOnce=function(e,t){var r=e?this.state.setQueryParameters(e):this.state,n=Cs._getQueries(r.index,r),i=this;if(this._currentNbQueries++,this.emit("searchOnce",r),!t)return this.client.search(n).then(function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new xs(r,e.results),state:r,_originalResponse:e}},function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e});this.client.search(n).then(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(null,new xs(r,e.results),r)}).catch(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(e,null,r)})},dc.prototype.searchForFacetValues=function(t,e,r,n){var i=this.state.setQueryParameters(n||{}),a=i.isDisjunctiveFacet(t),o=Cs.getSearchForFacetQuery(t,e,r,i);this._currentNbQueries++;var s=this;return this.emit("searchForFacetValues",i,t,e),("function"==typeof this.client.searchForFacetValues?this.client.searchForFacetValues([{indexName:i.index,params:o}]):this.client.initIndex(i.index).searchForFacetValues(o)).then(function(e){return s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),(e=Array.isArray(e)?e[0]:e).facetHits=zi(e.facetHits,function(e){e.isRefined=a?i.isDisjunctiveFacetRefined(t,e.value):i.isFacetRefined(t,e.value)}),e},function(e){throw s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),e})},dc.prototype.setQuery=function(e){return this._change(this.state.setPage(0).setQuery(e)),this},dc.prototype.clearRefinements=function(e){return this._change(this.state.setPage(0).clearRefinements(e)),this},dc.prototype.clearTags=function(){return this._change(this.state.setPage(0).clearTags()),this},dc.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change(this.state.setPage(0).addDisjunctiveFacetRefinement(e,t)),this},dc.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},dc.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change(this.state.setPage(0).addHierarchicalFacetRefinement(e,t)),this},dc.prototype.addNumericRefinement=function(e,t,r){return this._change(this.state.setPage(0).addNumericRefinement(e,t,r)),this},dc.prototype.addFacetRefinement=function(e,t){return this._change(this.state.setPage(0).addFacetRefinement(e,t)),this},dc.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},dc.prototype.addFacetExclusion=function(e,t){return this._change(this.state.setPage(0).addExcludeRefinement(e,t)),this},dc.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},dc.prototype.addTag=function(e){return this._change(this.state.setPage(0).addTagRefinement(e)),this},dc.prototype.removeNumericRefinement=function(e,t,r){return this._change(this.state.setPage(0).removeNumericRefinement(e,t,r)),this},dc.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change(this.state.setPage(0).removeDisjunctiveFacetRefinement(e,t)),this},dc.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},dc.prototype.removeHierarchicalFacetRefinement=function(e){return this._change(this.state.setPage(0).removeHierarchicalFacetRefinement(e)),this},dc.prototype.removeFacetRefinement=function(e,t){return this._change(this.state.setPage(0).removeFacetRefinement(e,t)),this},dc.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},dc.prototype.removeFacetExclusion=function(e,t){return this._change(this.state.setPage(0).removeExcludeRefinement(e,t)),this},dc.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},dc.prototype.removeTag=function(e){return this._change(this.state.setPage(0).removeTagRefinement(e)),this},dc.prototype.toggleFacetExclusion=function(e,t){return this._change(this.state.setPage(0).toggleExcludeFacetRefinement(e,t)),this},dc.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},dc.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},dc.prototype.toggleFacetRefinement=function(e,t){return this._change(this.state.setPage(0).toggleFacetRefinement(e,t)),this},dc.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},dc.prototype.toggleTag=function(e){return this._change(this.state.setPage(0).toggleTagRefinement(e)),this},dc.prototype.nextPage=function(){return this.setPage(this.state.page+1)},dc.prototype.previousPage=function(){return this.setPage(this.state.page-1)},dc.prototype.setCurrentPage=pc,dc.prototype.setPage=pc,dc.prototype.setIndex=function(e){return this._change(this.state.setPage(0).setIndex(e)),this},dc.prototype.setQueryParameter=function(e,t){return this._change(this.state.setPage(0).setQueryParameter(e,t)),this},dc.prototype.setState=function(e){return this._change(qa.make(e)),this},dc.prototype.getState=function(e){return void 0===e?this.state:this.state.filter(e)},dc.prototype.getStateAsQueryString=function(e){var t=e&&e.filters||["query","attribute:*"],r=this.getState(t);return lc.getQueryStringFromState(r,e)},dc.getConfigurationFromQueryString=lc.getStateFromQueryString,dc.getForeignConfigurationInQueryString=lc.getUnrecognizedParametersInQueryString,dc.prototype.setStateFromQueryString=function(e,t){var r=t&&t.triggerChange||!1,n=lc.getStateFromQueryString(e,t),i=this.state.setQueryParameters(n);r?this.setState(i):this.overrideStateWithoutTriggeringChangeEvent(i)},dc.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new qa(e),this},dc.prototype.isRefined=function(e,t){if(this.state.isConjunctiveFacet(e))return this.state.isFacetRefined(e,t);if(this.state.isDisjunctiveFacet(e))return this.state.isDisjunctiveFacetRefined(e,t);throw new Error(e+" is not properly defined in this helper configuration(use the facets or disjunctiveFacets keys to configure it)")},dc.prototype.hasRefinements=function(e){return!fn(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},dc.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},dc.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},dc.prototype.hasTag=function(e){return this.state.isTagRefined(e)},dc.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},dc.prototype.getIndex=function(){return this.state.index},dc.prototype.getCurrentPage=vc,dc.prototype.getPage=vc,dc.prototype.getTags=function(){return this.state.tagRefinements},dc.prototype.getQueryParameter=function(e){return this.state.getQueryParameter(e)},dc.prototype.getRefinements=function(e){var r=[];if(this.state.isConjunctiveFacet(e)){var t=this.state.getConjunctiveRefinements(e);zi(t,function(e){r.push({value:e,type:"conjunctive"})});var n=this.state.getExcludeRefinements(e);zi(n,function(e){r.push({value:e,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var i=this.state.getDisjunctiveRefinements(e);zi(i,function(e){r.push({value:e,type:"disjunctive"})})}var a=this.state.getNumericRefinements(e);return zi(a,function(e,t){r.push({value:e,operator:t,type:"numeric"})}),r},dc.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},dc.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},dc.prototype._search=function(){var n=this.state,e=Cs._getQueries(n.index,n),i=[{state:n,queriesCount:e.length,helper:this}];this.emit("search",n,this.lastResults);var t=Gi(this.derivedHelpers,function(e){var t=e.getModifiedState(n),r=Cs._getQueries(t.index,t);return i.push({state:t,queriesCount:r.length,helper:e}),e.emit("search",t,e.lastResults),r}),r=e.concat(bi(t)),a=this._queryId++;this._currentNbQueries++;try{this.client.search(r).then(this._dispatchAlgoliaResponse.bind(this,i,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(e){this.emit("error",e)}},dc.prototype._dispatchAlgoliaResponse=function(e,t,r){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var o=r.results;zi(e,function(e){var t=e.state,r=e.queriesCount,n=e.helper,i=o.splice(0,r),a=n.lastResults=new xs(t,i);n.emit("result",a,t)})}},dc.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",t),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},dc.prototype.containsRefinement=function(e,t,r,n){return e||0!==t.length||0!==r.length||0!==n.length},dc.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&0<this.state.disjunctiveRefinements[e].length},dc.prototype._change=function(e){e!==this.state&&(this.state=e,this.emit("change",this.state,this.lastResults))},dc.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},dc.prototype.setClient=function(e){return this.client===e||(e.addAlgoliaAgent&&!mc(e)&&e.addAlgoliaAgent("JS Helper "+hc),this.client=e),this},dc.prototype.getClient=function(){return this.client},dc.prototype.derive=function(e){var t=new As(this,e);return this.derivedHelpers.push(t),t},dc.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},dc.prototype.hasPendingRequests=function(){return 0<this._currentNbQueries};var gc=dc;function yc(e,t,r){return new gc(e,t,r)}yc.version=hc,yc.AlgoliaSearchHelper=gc,yc.SearchParameters=qa,yc.SearchResults=xs,yc.url=lc;var bc=yc,Rc=bc.SearchParameters,xc=function(e,t){if(e===t)return!0;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=Object.prototype.hasOwnProperty,a=0;a<r.length;a++)if(!i.call(t,r[a])||e[r[a]]!==t[r[a]])return!1;return!0},Fc=Promise.resolve(),_c=function(e){Fc.then(e)};function jc(e){var t=e,r=[];return{getState:function(){return t},setState:function(e){t=e,r.forEach(function(e){return e()})},subscribe:function(e){return r.push(e),function(){r.splice(r.indexOf(e),1)}}}}var wc={highlightPreTag:"<ais-highlight-0000000000>",highlightPostTag:"</ais-highlight-0000000000>"};function Pc(e){var t=e.preTag,r=e.postTag,n=e.highlightedValue,i=(void 0===n?"":n).split(t),a=i.shift(),o=""===a?[]:[{value:a,isHighlighted:!1}];if(r===t){var s=!0;i.forEach(function(e){o.push({value:e,isHighlighted:s}),s=!s})}else i.forEach(function(e){var t=e.split(r);o.push({value:t[0],isHighlighted:!0}),""!==t[1]&&o.push({value:t[1],isHighlighted:!1})});return o}var Sc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function Oc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ec(e){var i=e.indexName,t=e.initialState,r=void 0===t?{}:t,n=e.searchClient,a=e.resultsState,o=e.stalledSearchDelay,s=new Rc(Sc({index:i},wc)),c=null,u=bc(n,i,s);u.on("result",y),u.on("error",b),u.on("search",function(){c||(c=setTimeout(function(){var e=Ei(Sc({},p.getState(),{isSearchStalled:!0}),"resultsFacetValues");p.setState(e)},o))});var f={},l={},h=u.state,d=function(e){var t=[],r=!1;function n(){r||(r=!0,_c(function(){r=!1,e()}))}return{registerWidget:function(e){return t.push(e),n(),function(){t.splice(t.indexOf(e),1),n()}},update:n,getWidgets:function(){return t}}}(function(){var e=m(p.getState().widgets);p.setState(Sc({},p.getState(),{metadata:e,searching:!0})),g()}),p=jc({widgets:r,metadata:[],results:a||null,error:null,searching:!1,isSearchStalled:!0,searchingForFacetValues:!1}),v=!1;function m(t){return d.getWidgets().filter(function(e){return Boolean(e.getMetadata)}).map(function(e){return e.getMetadata(t)})}function g(){if(!v){var e=function(){l={};var e=d.getWidgets().filter(function(e){return Boolean(e.getSearchParameters)}).filter(function(e){return!(e.context.multiIndexContext||e.props.indexName!==i&&e.props.indexName)}).reduce(function(e,t){return t.getSearchParameters(e)},h);l[e.index]=i;var t=d.getWidgets().filter(function(e){return Boolean(e.getSearchParameters)}).filter(function(e){return e.context.multiIndexContext&&e.context.multiIndexContext.targetedIndex!==i||e.props.indexName&&e.props.indexName!==i}).reduce(function(e,t){var r=t.context.multiIndexContext?t.context.multiIndexContext.targetedIndex:t.props.indexName,n=cn(e,function(e){return e.targetedIndex===r});return n?n.widgets.push(t):e.push({targetedIndex:r,widgets:[t]}),e},[]),r=d.getWidgets().filter(function(e){return Boolean(e.getSearchParameters)}).filter(function(e){return e.context.multiIndexContext&&e.context.multiIndexContext.targetedIndex===i||e.props.indexName&&e.props.indexName===i}).reduce(function(e,t){return t.getSearchParameters(e)},e);return l[r.index]=i,{sharedParameters:e,mainIndexParameters:r,derivatedWidgets:t}}(u.state),n=e.sharedParameters,t=e.mainIndexParameters,r=e.derivatedWidgets;Object.keys(f).forEach(function(e){return f[e].detach()}),f={},u.setState(n),r.forEach(function(t){var r=t.targetedIndex,e=u.derive(function(){var e=t.widgets.reduce(function(e,t){return t.getSearchParameters(e)},n);return l[e.index]=r,e});e.on("result",y),e.on("error",b),f[r]=e}),u.setState(t),u.search()}}function y(e){var t=p.getState(),r=t.results?t.results:{};r=!fn(f)&&r.getFacetByName?{}:r,fn(f)?r=e:r[l[e.index]]=e;var n=p.getState(),i=n.isSearchStalled;u.hasPendingRequests()||(clearTimeout(c),c=null,i=!1);var a=Ei(Sc({},n,{results:r,isSearchStalled:i,searching:!1,error:null}),"resultsFacetValues");p.setState(a)}function b(e){var t=p.getState(),r=t.isSearchStalled;u.hasPendingRequests()||(clearTimeout(c),r=!1);var n=Ei(Sc({},t,{isSearchStalled:r,error:e,searching:!1}),"resultsFacetValues");p.setState(n)}return{store:p,widgetsManager:d,getWidgetsIds:function(){return p.getState().metadata.reduce(function(e,t){return void 0!==t.id?e.concat(t.id):e},[])},onExternalStateUpdate:function(e){var t=m(e);p.setState(Sc({},p.getState(),{widgets:e,metadata:t,searching:!0})),g()},transitionState:function(e){var r=p.getState().widgets;return d.getWidgets().filter(function(e){return Boolean(e.transitionState)}).reduce(function(e,t){return t.transitionState(r,e)},e)},onSearchForFacetValues:function(e){var r=e.facetName,n=e.query,t=e.maxFacetHits,i=void 0===t?10:t,a=Math.max(1,Math.min(i,100));p.setState(Sc({},p.getState(),{searchingForFacetValues:!0})),u.searchForFacetValues(r,n,a).then(function(e){var t;p.setState(Sc({},p.getState(),{resultsFacetValues:Sc({},p.getState().resultsFacetValues,(t={},Oc(t,r,e.facetHits),Oc(t,"query",n),t)),searchingForFacetValues:!1}))},function(e){p.setState(Sc({},p.getState(),{error:e,searchingForFacetValues:!1}))}).catch(function(e){setTimeout(function(){throw e})})},updateClient:function(e){u.setClient(e),g()},updateIndex:function(e){h=h.setIndex(e),g()},clearCache:function(){u.clearCache(),g()},skipSearch:function(){v=!0}}}var Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nc=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var Cc=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Tc(t))&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.isControlled=Boolean(e.searchState);var r=t.isControlled?e.searchState:{};return t.isUnmounting=!1,t.aisManager=Ec({indexName:e.indexName,searchClient:e.searchClient,initialState:r,resultsState:e.resultsState,stalledSearchDelay:e.stalledSearchDelay}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Tc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,v.Component),Nc(n,[{key:"componentWillReceiveProps",value:function(e){!function(e,t){if(!e.searchState&&t.searchState)throw new Error("You can't switch <InstantSearch> from being uncontrolled to controlled");if(e.searchState&&!t.searchState)throw new Error("You can't switch <InstantSearch> from being controlled to uncontrolled")}(this.props,e),this.props.indexName!==e.indexName&&this.aisManager.updateIndex(e.indexName),this.props.refresh!==e.refresh&&e.refresh&&this.aisManager.clearCache(),this.props.searchClient!==e.searchClient&&this.aisManager.updateClient(e.searchClient),this.isControlled&&this.aisManager.onExternalStateUpdate(e.searchState)}},{key:"componentWillUnmount",value:function(){this.isUnmounting=!0,this.aisManager.skipSearch()}},{key:"getChildContext",value:function(){return this._aisContextCache||(this._aisContextCache={ais:{onInternalStateUpdate:this.onWidgetsInternalStateUpdate.bind(this),createHrefForState:this.createHrefForState.bind(this),onSearchForFacetValues:this.onSearchForFacetValues.bind(this),onSearchStateChange:this.onSearchStateChange.bind(this),onSearchParameters:this.onSearchParameters.bind(this)}}),{ais:Ac({},this._aisContextCache.ais,{store:this.aisManager.store,widgetsManager:this.aisManager.widgetsManager,mainTargetedIndex:this.props.indexName})}}},{key:"createHrefForState",value:function(e){return e=this.aisManager.transitionState(e),this.isControlled&&this.props.createURL?this.props.createURL(e,this.getKnownKeys()):"#"}},{key:"onWidgetsInternalStateUpdate",value:function(e){e=this.aisManager.transitionState(e),this.onSearchStateChange(e),this.isControlled||this.aisManager.onExternalStateUpdate(e)}},{key:"onSearchStateChange",value:function(e){this.props.onSearchStateChange&&!this.isUnmounting&&this.props.onSearchStateChange(e)}},{key:"onSearchParameters",value:function(e,t,r){if(this.props.onSearchParameters){var n=this.props.searchState?this.props.searchState:{};this.props.onSearchParameters(e,t,r,n)}}},{key:"onSearchForFacetValues",value:function(e){this.aisManager.onSearchForFacetValues(e)}},{key:"getKnownKeys",value:function(){return this.aisManager.getWidgetsIds()}},{key:"render",value:function(){var e=v.Children.count(this.props.children),t=this.props.root,r=t.Root,n=t.props;return 0===e?null:m.createElement(r,n,this.props.children)}}]),n}();Cc.defaultProps={stalledSearchDelay:200},Cc.propTypes={indexName:Q.string.isRequired,searchClient:Q.object.isRequired,createURL:Q.func,refresh:Q.bool.isRequired,searchState:Q.object,onSearchStateChange:Q.func,onSearchParameters:Q.func,resultsState:Q.oneOfType([Q.object,Q.array]),children:Q.node,root:Q.shape({Root:Q.oneOfType([Q.string,Q.func,Q.object]),props:Q.object}).isRequired,stalledSearchDelay:Q.number},Cc.childContextTypes={ais:Q.object.isRequired};var Ic=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var Hc=function(e){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Tc(t))&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e)),n=t.ais.widgetsManager;return r.unregisterWidget=n.registerWidget(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Tc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,v.Component),Ic(i,[{key:"componentWillMount",value:function(){this.context.ais.onSearchParameters(this.getSearchParameters.bind(this),this.getChildContext(),this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.indexName!==e.indexName&&this.context.ais.widgetsManager.update()}},{key:"componentWillUnmount",value:function(){this.unregisterWidget()}},{key:"getChildContext",value:function(){return{multiIndexContext:{targetedIndex:this.props.indexName}}}},{key:"getSearchParameters",value:function(e,t){return e.setIndex(this.props?this.props.indexName:t.indexName)}},{key:"render",value:function(){var e=v.Children.count(this.props.children),t=this.props.root,r=t.Root,n=t.props;return 0===e?null:m.createElement(r,n,this.props.children)}}]),i}();Hc.propTypes={indexName:Q.string.isRequired,children:Q.node,root:Q.shape({Root:Q.oneOfType([Q.string,Q.func,Q.object]),props:Q.object}).isRequired},Hc.childContextTypes={multiIndexContext:Q.object.isRequired},Hc.contextTypes={ais:Q.object.isRequired};var Mc=Object.prototype.hasOwnProperty;var Qc=function(e,t){return null!=e&&Mc.call(e,t)};var Dc=function(e,t){return null!=e&&kr(e,t,Qc)},Bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lc=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function kc(f){if(!f.displayName)throw new Error("`createConnector` requires you to provide a `displayName` property.");var i=Dc(f,"refine"),a=Dc(f,"searchForFacetValues"),c=Dc(f,"getSearchParameters"),u=Dc(f,"getMetadata"),l=Dc(f,"transitionState"),h=Dc(f,"cleanUp"),d=Dc(f,"shouldComponentUpdate"),p=c||u||l;return function(r){var e,t,s,n;return t=e=function(e){function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Tc(t))&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t));s.call(r);var n=t.ais,i=n.store,a=n.widgetsManager;return r.state={props:r.getProvidedProps(Bc({},e,{canRender:!1})),canRender:!1},r.unsubscribe=i.subscribe(function(){r.state.canRender&&r.setState({props:r.getProvidedProps(Bc({},r.props,{canRender:r.state.canRender}))})}),p&&(r.unregisterWidget=a.registerWidget(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Tc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,v.Component),Lc(o,[{key:"getMetadata",value:function(e){return u?f.getMetadata.call(this,this.props,e):{}}},{key:"getSearchParameters",value:function(e){return c?f.getSearchParameters.call(this,e,this.props,this.context.ais.store.getState().widgets):null}},{key:"transitionState",value:function(e,t){return l?f.transitionState.call(this,this.props,e,t):t}},{key:"componentDidMount",value:function(){this.setState({canRender:!0})}},{key:"componentWillMount",value:function(){f.getSearchParameters&&this.context.ais.onSearchParameters(f.getSearchParameters.bind(this),this.context,this.props)}},{key:"componentWillReceiveProps",value:function(e){ia(this.props,e)||(this.setState({props:this.getProvidedProps(e)}),p&&(this.context.ais.widgetsManager.update(),f.transitionState&&this.context.ais.onSearchStateChange(f.transitionState.call(this,e,this.context.ais.store.getState().widgets,this.context.ais.store.getState().widgets))))}},{key:"componentWillUnmount",value:function(){if(this.unsubscribe(),p&&(this.unregisterWidget(),h)){var e=f.cleanUp.call(this,this.props,this.context.ais.store.getState().widgets);this.context.ais.store.setState(Bc({},this.context.ais.store.getState(),{widgets:e})),this.context.ais.onSearchStateChange(function r(n){return Object.keys(n).forEach(function(e){var t=n[e];fn(t)&&pi(t)?delete n[e]:pi(t)&&r(t)}),n}(e))}}},{key:"shouldComponentUpdate",value:function(e,t){if(d)return f.shouldComponentUpdate.call(this,this.props,e,this.state,t);var r=xc(this.props,e);return null===this.state.props||null===t.props?this.state.props!==t.props||!r:!r||!xc(this.state.props,t.props)}},{key:"render",value:function(){if(null===this.state.props)return null;var e=i?{refine:this.refine,createURL:this.createURL}:{},t=a?{searchForItems:this.searchForFacetValues}:{};return m.createElement(r,Bc({},this.props,this.state.props,e,t))}}]),o}(),e.displayName=f.displayName+"("+((n=r).displayName||n.name||"UnknownComponent")+")",e.defaultClassNames=r.defaultClassNames,e.propTypes=f.propTypes,e.defaultProps=f.defaultProps,e.contextTypes={ais:Q.object.isRequired,multiIndexContext:Q.object},s=function(){var u=this;this.getProvidedProps=function(e){var t=u.context.ais.store.getState(),r=t.results,n=t.searching,i=t.error,a=t.widgets,o=t.metadata,s=t.resultsFacetValues,c={results:r,searching:n,error:i,searchingForFacetValues:t.searchingForFacetValues,isSearchStalled:t.isSearchStalled};return f.getProvidedProps.call(u,e,a,c,o,s)},this.refine=function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];u.context.ais.onInternalStateUpdate((e=f.refine).call.apply(e,[u,u.props,u.context.ais.store.getState().widgets].concat(r)))},this.searchForFacetValues=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];u.context.ais.onSearchForFacetValues(f.searchForFacetValues.apply(f,[u.props,u.context.ais.store.getState().widgets].concat(t)))},this.createURL=function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return u.context.ais.createHrefForState((e=f.refine).call.apply(e,[u,u.props,u.context.ais.store.getState().widgets].concat(r)))},this.cleanUp=function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=f.cleanUp).call.apply(e,[u].concat(r))}},t}}var Uc=function(e,t,r,n){var i=-1,a=Ci,o=!0,s=e.length,c=[],u=t.length;if(!s)return c;r&&(t=Tr(t,Tt(r))),n?(a=Ii,o=!1):200<=t.length&&(a=et,o=!1,t=new Ze(t));e:for(;++i<s;){var f=e[i],l=null==r?f:r(f);if(f=n||0!==f?f:0,o&&l==l){for(var h=u;h--;)if(t[h]===l)continue e;c.push(f)}else a(t,l,n)||c.push(f)}return c},Vc=Qi(function(e,t){return Di(e)?Uc(e,yi(t,1,Di,!0)):[]}),qc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function Wc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zc(e){return e&&e.multiIndexContext?e.multiIndexContext.targetedIndex:e.ais.mainTargetedIndex}function $c(e,t){return e.results&&!e.results.hits?e.results[zc(t)]?e.results[zc(t)]:null:e.results?e.results:null}function Jc(e){return e&&e.multiIndexContext}function Yc(t,e,r,n,i){return Jc(r)?i?(p=t,v=e,m=n,g=i,b=zc(r),R=m?{page:1}:void 0,x=Dc(p,"indices."+b)?qc({},p.indices,Wc({},b,qc({},p.indices[b],(Wc(y={},g,qc({},p.indices[b][g],v)),Wc(y,"page",1),y)))):qc({},p.indices,Wc({},b,qc(Wc({},g,v),R))),qc({},p,{indices:x})):(u=t,f=e,l=n?{page:1}:void 0,h=zc(r),d=Dc(u,"indices."+h)?qc({},u.indices,Wc({},h,qc({},u.indices[h],f,l))):qc({},u.indices,Wc({},h,qc({},f,l))),qc({},u,{indices:d})):(t.indices&&n&&Object.keys(t.indices).forEach(function(e){t=Yc(t,{page:1},{multiIndexContext:{targetedIndex:e}},!0,i)}),i?(o=e,c=n?{page:1}:void 0,qc({},a=t,Wc({},s=i,qc({},a[s],o)),c)):qc({},t,e,n?{page:1}:void 0));var a,o,s,c,u,f,l,h,d,p,v,m,g,y,b,R,x}function Gc(e){var t=e.match(/^([^.]*)\.(.*)/);return{namespace:t&&t[1],attributeName:t&&t[2]}}function Kc(e,t,r,n,i){var a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:function(e){return e},o=zc(r),s=Gc(n),c=s.namespace,u=s.attributeName;if(Jc(r)&&t.indices&&c&&t.indices[""+o]&&Dc(t.indices[""+o][c],""+u)||Jc(r)&&t.indices&&Dc(t,"indices."+o+"."+n)||!Jc(r)&&c&&Dc(t[c],u)||!Jc(r)&&Dc(t,n)){return a(Jc(r)?c?Br(t.indices[""+o][c],u):Br(t.indices[o],n):c?Br(t[c],u):Br(t,n))}return e.defaultRefinement?e.defaultRefinement:i}function Zc(e,t,r){var n=zc(t),i=Gc(r),a=i.namespace,o=i.attributeName;return Jc(t)&&Boolean(e.indices)?function(e){var t=e.searchState,r=e.indexName,n=e.id,i=e.namespace,a=e.attribute,o=t.indices[r];if(i&&o)return qc({},t,{indices:qc({},t.indices,Wc({},r,qc({},o,Wc({},i,Ei(o[i],a)))))});return Ei(t,"indices."+r+"."+n)}({attribute:o,searchState:e,indexName:n,id:r,namespace:a}):function(e){var t=e.searchState,r=e.id,n=e.namespace,i=e.attribute;if(n)return qc({},t,Wc({},n,Ei(t[n],i)));return Ei(t,r)}({attribute:o,searchState:e,id:r,namespace:a})}var Xc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function eu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tu=kc({displayName:"AlgoliaConfigure",getProvidedProps:function(){return{}},getSearchParameters:function(e,t){var r=Ei(t,"children");return e.setQueryParameters(r)},transitionState:function(e,t,r){var n=Ei(e,"children"),i=this._props?Vc(Vt(this._props),Vt(e)):[];return this._props=e,Yc(r,eu({},"configure",Xc({},Ei(r.configure,i),n)),this.context)},cleanUp:function(r,e){var n="configure",t=zc(this.context),i=Jc(this.context)&&e.indices?e.indices[t]:e,a=(i&&i[n]?Object.keys(i[n]):[]).reduce(function(e,t){return r[t]||(e[t]=i[n][t]),e},{});return Yc(e,eu({},n,a),this.context)}});tu(function(){return null});function ru(e,t,r){return Kc(e,t,r,"query","",function(e){return e||""})}function nu(r){return r.results?r.results.hits&&Array.isArray(r.results.hits)?r.results.hits:Object.keys(r.results).reduce(function(e,t){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e),[{index:t,hits:r.results[t].hits}])},[]):[]}function iu(e,t,r,n){var i,a,o;return Yc(t,(o=r,(a="query")in(i={})?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),n,!0)}var au=kc({displayName:"AlgoliaAutoComplete",getProvidedProps:function(e,t,r){return{hits:nu(r),currentRefinement:ru(e,t,this.context)}},refine:function(e,t,r){return iu(0,t,r,this.context)},cleanUp:function(e,t){return r=t,n=this.context,Zc(r,n,"query");var r,n},getSearchParameters:function(e,t,r){return e.setQuery(ru(t,r,this.context))}});var ou=function(e){return e.attributes[0]};function su(e,t,r,n){var i,a,o,s=ou(e);return Yc(t,(o=r||"",(a=s)in(i={})?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),n,!0,"hierarchicalMenu")}var cu=kc({displayName:"AlgoliaBreadcrumb",propTypes:{attributes:function(e,t,r){if(!Array.isArray(e[t])||e[t].some(function(e){return"string"!=typeof e})||e[t].length<1)return new Error("Invalid prop "+t+" supplied to "+r+". Expected an Array of Strings")},transformItems:Q.func},getProvidedProps:function(e,t,r){var n=ou(e),i=$c(r,this.context);if(!(Boolean(i)&&Boolean(i.getFacetByName(n))))return{items:[],canRefine:!1};var a=i.getFacetValues(n),o=a.data?function r(e){return e.reduce(function(e,t){return t.isRefined&&(e.push({label:t.name,value:t.path}),t.data&&(e=e.concat(r(t.data)))),e},[])}(a.data):[],s=e.transformItems?e.transformItems(o):o;return{canRefine:0<s.length,items:s}},refine:function(e,t,r){return su(e,t,r,this.context)}}),uu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fu=kc({displayName:"AlgoliaCurrentRefinements",propTypes:{transformItems:Q.func},getProvidedProps:function(r,e,t,n){var i=n.reduce(function(e,t){return void 0!==t.items&&(r.clearsQuery||"query"!==t.id)?r.clearsQuery&&"query"===t.id&&""===t.items[0].currentRefinement?e:e.concat(t.items.map(function(e){return uu({},e,{id:t.id,index:t.index})})):e},[]),a=r.transformItems?r.transformItems(i):i;return{items:a,canRefine:0<a.length}},refine:function(e,t,r){return(r instanceof Array?r.map(function(e){return e.value}):[r]).reduce(function(e,t){return t(e)},t)}});var lu=function(e){return[e.northEast.lat,e.northEast.lng,e.southWest.lat,e.southWest.lng].join()},hu=/^(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)$/,du=function(e){var t=e.match(hu);return{lat:parseFloat(t[1]),lng:parseFloat(t[2])}},pu=function(e,t,r){var n=Kc(e,t,r,"boundingBox",{});if(!fn(n))return{northEast:{lat:parseFloat(n.northEast.lat),lng:parseFloat(n.northEast.lng)},southWest:{lat:parseFloat(n.southWest.lat),lng:parseFloat(n.southWest.lng)}}},vu=function(e,t,r){e.defaultRefinement;var n=function(e,t){var r={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["defaultRefinement"]),i=Kc(n,t,r,"aroundLatLng");if(i)return i;var a=Kc(n,t,r,"configure.aroundLatLng");return a&&du(a)},mu=function(e,t,r){var n,i,a;return Yc(e,(a=t,(i="boundingBox")in(n={})?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n),r,!0)},gu=kc({displayName:"AlgoliaGeoSearch",getProvidedProps:function(e,t,r){var n,i,a=$c(r,this.context),o=pu(e,t,this.context),s=a&&a._state.insideBoundingBox&&(n=a._state.insideBoundingBox,i=n.split(","),{northEast:{lat:parseFloat(i[0]),lng:parseFloat(i[1])},southWest:{lat:parseFloat(i[2]),lng:parseFloat(i[3])}})||void 0,c=vu(e,t,this.context),u=a&&a._state.aroundLatLng&&du(a._state.aroundLatLng)||void 0,f=o||s,l=c||u;return{hits:a?a.hits.filter(function(e){return Boolean(e._geoloc)}):[],isRefinedWithMap:Boolean(f),currentRefinement:f,position:l}},refine:function(e,t,r){return mu(t,r,this.context)},getSearchParameters:function(e,t,r){var n=pu(t,r,this.context);return n?e.setQueryParameter("insideBoundingBox",lu(n)):e},cleanUp:function(e,t){return Zc(t,this.context,"boundingBox")},getMetadata:function(e,t){var r=this,n=[],i="boundingBox",a=zc(this.context),o={},s=pu(e,t,this.context);return s&&n.push({label:i+": "+lu(s),value:function(e){return mu(e,o,r.context)},currentRefinement:s}),{id:i,index:a,items:n}},shouldComponentUpdate:function(){return!0}}),yu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var bu=function(e){return e.attributes[0]},Ru="hierarchicalMenu";function xu(e,t,r){return Kc(e,t,r,Ru+"."+bu(e),null,function(e){return""===e?null:e})}function Fu(e,l,h,d){return e.map(function(e){return{label:e.name,value:(t=e.path,r=l,n=h,i=d,a=r.id,o=r.attributes,s=r.separator,c=r.rootPath,u=r.showParentLevel,f=xu(r,n,i),null===f?t:new Rc({hierarchicalFacets:[{name:a,attributes:o,separator:s,rootPath:c,showParentLevel:u}]}).toggleHierarchicalFacetRefinement(a,f).toggleHierarchicalFacetRefinement(a,t).getHierarchicalRefinement(a)[0]),count:e.count,isRefined:e.isRefined,items:e.data&&Fu(e.data,l,h,d)};var t,r,n,i,a,o,s,c,u,f})}function _u(e,t,r,n){var i,a,o,s=bu(e);return Yc(t,(o=r||"",(a=s)in(i={})?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),n,!0,Ru)}var ju=["name:asc"],wu=kc({displayName:"AlgoliaHierarchicalMenu",propTypes:{attributes:function(e,t,r){if(!Array.isArray(e[t])||e[t].some(function(e){return"string"!=typeof e})||e[t].length<1)return new Error("Invalid prop "+t+" supplied to "+r+". Expected an Array of Strings")},separator:Q.string,rootPath:Q.string,showParentLevel:Q.bool,defaultRefinement:Q.string,showMore:Q.bool,limit:Q.number,showMoreLimit:Q.number,transformItems:Q.func},defaultProps:{showMore:!1,limit:10,showMoreLimit:20,separator:" > ",rootPath:null,showParentLevel:!0},getProvidedProps:function(e,t,r){var n=e.showMore,i=e.limit,a=e.showMoreLimit,o=bu(e),s=$c(r,this.context);if(!(Boolean(s)&&Boolean(s.getFacetByName(o))))return{items:[],currentRefinement:xu(e,t,this.context),canRefine:!1};var c=n?a:i,u=s.getFacetValues(o,{sortBy:ju}),f=u.data?Fu(u.data,e,t,this.context):[],l=e.transformItems?e.transformItems(f):f;return{items:function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return e.slice(0,r).map(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e.items)?yu({},e,{items:t(e.items,r)}):e})}(l,c),currentRefinement:xu(e,t,this.context),canRefine:0<l.length}},refine:function(e,t,r){return _u(e,t,r,this.context)},cleanUp:function(e,t){return r=e,n=t,i=this.context,Zc(n,i,Ru+"."+bu(r));var r,n,i},getSearchParameters:function(e,t,r){var n=t.attributes,i=t.separator,a=t.rootPath,o=t.showParentLevel,s=t.showMore,c=t.limit,u=t.showMoreLimit,f=bu(t),l=s?u:c;e=e.addHierarchicalFacet({name:f,attributes:n,separator:i,rootPath:a,showParentLevel:o}).setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,l)});var h=xu(t,r,this.context);return null!==h&&(e=e.toggleHierarchicalFacetRefinement(f,h)),e},getMetadata:function(t,e){var r=this,n=t.attributes[0],i=bu(t),a=xu(t,e,this.context);return{id:i,index:zc(this.context),items:a?[{label:n+": "+a,attribute:n,value:function(e){return _u(t,e,"",r.context)},currentRefinement:a}]:[]}}}),Pu=function(e){var t=e.attribute,r=e.hit,n=e.highlightProperty,i=e.preTag,a=void 0===i?wc.highlightPreTag:i,o=e.postTag;return function(e){var t=e.preTag,r=void 0===t?"<em>":t,n=e.postTag,i=void 0===n?"</em>":n,a=e.highlightProperty,o=e.attribute,s=e.hit;if(!s)throw new Error("`hit`, the matching record, must be provided");var c=Br(s[a],o,{});return Array.isArray(c)?c.map(function(e){return Pc({preTag:r,postTag:i,highlightedValue:e.value})}):Pc({preTag:r,postTag:i,highlightedValue:c.value})}({attribute:t,highlightProperty:n,hit:r,preTag:a,postTag:void 0===o?wc.highlightPostTag:o})},Su=kc({displayName:"AlgoliaHighlighter",propTypes:{},getProvidedProps:function(){return{highlight:Pu}}}),Ou=kc({displayName:"AlgoliaHits",getProvidedProps:function(e,t,r){var n=$c(r,this.context);return{hits:n?n.hits:[]}},getSearchParameters:function(e){return e}}),Eu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function Tu(e,t,r){return Kc(e,t,r,"hitsPerPage",null,function(e){return"string"==typeof e?parseInt(e,10):e})}var Au=kc({displayName:"AlgoliaHitsPerPage",propTypes:{defaultRefinement:Q.number.isRequired,items:Q.arrayOf(Q.shape({label:Q.string,value:Q.number.isRequired})).isRequired,transformItems:Q.func},getProvidedProps:function(e,t){var r=Tu(e,t,this.context),n=e.items.map(function(e){return e.value===r?Eu({},e,{isRefined:!0}):Eu({},e,{isRefined:!1})});return{items:e.transformItems?e.transformItems(n):n,currentRefinement:r}},refine:function(e,t,r){var n,i,a;return Yc(t,(a=r,(i="hitsPerPage")in(n={})?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n),this.context,!0)},cleanUp:function(e,t){return Zc(t,this.context,"hitsPerPage")},getSearchParameters:function(e,t,r){return e.setHitsPerPage(Tu(t,r,this.context))},getMetadata:function(){return{id:"hitsPerPage"}}});function Nu(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function Cu(e,t,r){return Kc(e,t,r,"page",1,function(e){return"string"==typeof e&&(e=parseInt(e,10)),e})}var Iu=kc({displayName:"AlgoliaInfiniteHits",getProvidedProps:function(e,t,r){var n=$c(r,this.context);if(this._allResults=this._allResults||[],this._previousPage=this._previousPage||0,!n)return{hits:[],hasMore:!1};var i=n.hits,a=n.page,o=n.nbPages;0===a?this._allResults=i:a>this._previousPage?this._allResults=[].concat(Nu(this._allResults),Nu(i)):a<this._previousPage&&(this._allResults=i);var s=a<o-1;return this._previousPage=a,{hits:this._allResults,hasMore:s}},getSearchParameters:function(e,t,r){return e.setQueryParameters({page:Cu(t,r,this.context)-1})},refine:function(e,t){var r,n,i,a=Cu(e,t,this.context)+1;return Yc(t,(i=a,(n="page")in(r={})?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r),this.context,!1)}});var Hu="menu";function Mu(e){return e.attribute}function Qu(e,t,r){return Kc(e,t,r,Hu+"."+Mu(e),null,function(e){return""===e?null:e})}function Du(e,t,r,n){return e===Qu(t,r,n)?"":e}function Bu(e){var t=e.showMore,r=e.limit,n=e.showMoreLimit;return t?n:r}function Lu(e,t,r,n){var i,a,o,s=Mu(e);return Yc(t,(o=r||"",(a=s)in(i={})?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),n,!0,Hu)}var ku=["count:desc","name:asc"],Uu=kc({displayName:"AlgoliaMenu",propTypes:{attribute:Q.string.isRequired,showMore:Q.bool,limit:Q.number,showMoreLimit:Q.number,defaultRefinement:Q.string,transformItems:Q.func,searchable:Q.bool},defaultProps:{showMore:!1,limit:10,showMoreLimit:20},getProvidedProps:function(t,r,e,n,i){var a=this,o=t.attribute,s=t.searchable,c=$c(e,this.context),u=Boolean(c)&&Boolean(c.getFacetByName(o)),f=Boolean(i&&i[o]&&""!==i.query);if(s&&this.context.multiIndexContext)throw new Error("react-instantsearch: searching in *List is not available when used inside a multi index context");if(!u)return{items:[],currentRefinement:Qu(t,r,this.context),isFromSearch:f,searchable:s,canRefine:u};var l=f?i[o].map(function(e){return{label:e.value,value:Du(e.value,t,r,a.context),_highlightResult:{label:{value:e.highlighted}},count:e.count,isRefined:e.isRefined}}):c.getFacetValues(o,{sortBy:ku}).map(function(e){return{label:e.name,value:Du(e.name,t,r,a.context),count:e.count,isRefined:e.isRefined}}),h=s&&!f?ro(l,["isRefined","count","label"],["desc","desc","asc"]):l,d=t.transformItems?t.transformItems(h):h;return{items:d.slice(0,Bu(t)),currentRefinement:Qu(t,r,this.context),isFromSearch:f,searchable:s,canRefine:0<d.length}},refine:function(e,t,r){return Lu(e,t,r,this.context)},searchForFacetValues:function(e,t,r){return{facetName:e.attribute,query:r,maxFacetHits:Bu(e)}},cleanUp:function(e,t){return r=e,n=t,i=this.context,Zc(n,i,Hu+"."+Mu(r));var r,n,i},getSearchParameters:function(e,t,r){var n=t.attribute;e=(e=e.setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,Bu(t))})).addDisjunctiveFacet(n);var i=Qu(t,r,this.context);return null!==i&&(e=e.addDisjunctiveFacetRefinement(n,i)),e},getMetadata:function(t,e){var r=this,n=Mu(t),i=Qu(t,e,this.context);return{id:n,index:zc(this.context),items:null===i?[]:[{label:t.attribute+": "+i,attribute:t.attribute,value:function(e){return Lu(t,e,"",r.context)},currentRefinement:i}]}}}),Vu=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function qu(e){return void 0===e.start&&void 0===e.end?"":(e.start?e.start:"")+":"+(e.end?e.end:"")}var Wu="multiRange";function zu(e){return e.attribute}function $u(e,t,r){return Kc(e,t,r,Wu+"."+zu(e),"",function(e){return""===e?"":e})}function Ju(e,t,r,n){var i,a,o;return Yc(t,(i={},a=zu(e),o=r,a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),n,!0,Wu)}var Yu=kc({displayName:"AlgoliaNumericMenu",propTypes:{id:Q.string,attribute:Q.string.isRequired,items:Q.arrayOf(Q.shape({label:Q.node,start:Q.number,end:Q.number})).isRequired,transformItems:Q.func},getProvidedProps:function(v,e,t){var r=v.attribute,m=$u(v,e,this.context),g=$c(t,this.context),n=v.items.map(function(e){var t,r,n,i,a,o,s,c,u,f,l,h,d,p=qu(e);return{label:e.label,value:p,isRefined:p===m,noRefinement:!!g&&(t=zu(v),r=g,n=p,f=r.getFacetByName(t)?r.getFacetStats(t):null,l=n.split(":"),h=0===Number(l[0])||""===n?Number.NEGATIVE_INFINITY:Number(l[0]),d=0===Number(l[1])||""===n?Number.POSITIVE_INFINITY:Number(l[1]),!(Boolean(f)&&(c=h,u=d,(s=f).min>c&&s.min<u||s.max>c&&s.max<u||(o=d,(a=h)>(i=f).min&&a<i.max||o>i.min&&o<i.max))))}}),i=g&&g.getFacetByName(r)?g.getFacetStats(r):null,a=cn(n,function(e){return!0===e.isRefined});n.some(function(e){return""===e.value})||n.push({value:"",isRefined:fn(a),noRefinement:!i,label:"All"});var o=v.transformItems?v.transformItems(n):n;return{items:o,currentRefinement:m,canRefine:0<o.length&&o.some(function(e){return!1===e.noRefinement})}},refine:function(e,t,r){return Ju(e,t,r,this.context)},cleanUp:function(e,t){return r=e,n=t,i=this.context,Zc(n,i,Wu+"."+zu(r));var r,n,i},getSearchParameters:function(e,t,r){var n=t.attribute,i=function(e){if(0===e.length)return{start:null,end:null};var t=e.split(":"),r=Vu(t,2),n=r[0],i=r[1];return{start:0<n.length?parseInt(n,10):null,end:0<i.length?parseInt(i,10):null}}($u(t,r,this.context)),a=i.start,o=i.end;return e=e.addDisjunctiveFacet(n),a&&(e=e.addNumericRefinement(n,">=",a)),o&&(e=e.addNumericRefinement(n,"<=",o)),e},getMetadata:function(t,e){var r=this,n=zu(t),i=$u(t,e,this.context),a=[],o=zc(this.context);if(""!==i){var s=cn(t.items,function(e){return qu(e)===i}).label;a.push({label:t.attribute+": "+s,attribute:t.attribute,currentRefinement:s,value:function(e){return Ju(t,e,"",r.context)}})}return{id:n,index:o,items:a}}});function Gu(e,t,r){return Kc(e,t,r,"page",1,function(e){return"string"==typeof e?parseInt(e,10):e})}function Ku(e,t,r,n){var i,a,o;return Yc(t,(o=r,(a="page")in(i={})?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),n,!1)}var Zu=kc({displayName:"AlgoliaPagination",getProvidedProps:function(e,t,r){var n=$c(r,this.context);if(!n)return null;var i=n.nbPages;return{nbPages:i,currentRefinement:Gu(e,t,this.context),canRefine:1<i}},refine:function(e,t,r){return Ku(0,t,r,this.context)},cleanUp:function(e,t){return Zc(t,this.context,"page")},getSearchParameters:function(e,t,r){return e.setPage(Gu(t,r,this.context)-1)},getMetadata:function(){return{id:"page"}}}),Xu=kc({displayName:"AlgoliaPoweredBy",propTypes:{},getProvidedProps:function(e){return{url:"https://www.algolia.com/?utm_source=react-instantsearch&utm_medium=website&utm_content="+(e.canRender?location.hostname:"")+"&utm_campaign=poweredby"}}}),ef=ee.isFinite;var tf=function(e){return"number"==typeof e&&ef(e)};function rf(e){return e.attribute}var nf="range";function af(o,e,t,r){var n=Kc(o,e,r,nf+"."+rf(o),{},function(e){var t=e.min,r=e.max,n=Boolean(o.precision),i=t;"string"==typeof i&&(i=n?parseFloat(i):parseInt(i,10));var a=r;return"string"==typeof a&&(a=n?parseFloat(a):parseInt(a,10)),{min:i,max:a}}),i=void 0!==o.min,a=void 0!==o.max,s=void 0!==n.min,c=void 0!==n.max;if(i&&s&&n.min<t.min)throw Error("You can't provide min value lower than range.");if(a&&c&&n.max>t.max)throw Error("You can't provide max value greater than range.");return i&&!s&&(n.min=t.min),a&&!c&&(n.max=t.max),n}function of(e,t){return{min:void 0!==e.min?e.min:t.min,max:void 0!==e.max?e.max:t.max}}function sf(e,t,r,n){return e||r!==n?e&&t?r:n:void 0}function cf(e,t,r,n,i){var a=r.min,o=r.max,s=n.min,c=n.max,u=void 0===a||""===a,f=void 0===o||""===o,l=u?void 0:parseFloat(a),h=f?void 0:parseFloat(o),d=u||tf(l),p=f||tf(h);if(!d||!p)throw Error("You can't provide non finite values to the range connector.");if(l<s)throw Error("You can't provide min value lower than range.");if(c<h)throw Error("You can't provide max value greater than range.");var v,m,g,y=rf(e);return Yc(t,(v={},m=y,g={min:sf(void 0!==e.min,u,s,l),max:sf(void 0!==e.max,f,c,h)},m in v?Object.defineProperty(v,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):v[m]=g,v),i,!0,nf)}var uf=kc({displayName:"AlgoliaRange",propTypes:{id:Q.string,attribute:Q.string.isRequired,defaultRefinement:Q.shape({min:Q.number,max:Q.number}),min:Q.number,max:Q.number,precision:Q.number,header:Q.node,footer:Q.node},defaultProps:{precision:0},getProvidedProps:function(e,t,r){var n=e.attribute,i=e.precision,a=e.min,o=e.max,s=$c(r,this.context),c=s&&s.getFacetByName(n),u=c&&s.getFacetStats(n)||{},f=(c?s.getFacetValues(n):[]).map(function(e){return{value:e.name,count:e.count}}),l=function(e,t,r){var n=Math.pow(10,r),i=void 0;i=tf(e.min)?e.min:tf(t.min)?t.min:void 0;var a=void 0;return a=tf(e.max)?e.max:tf(t.max)?t.max:void 0,{min:void 0!==i?Math.floor(i*n)/n:i,max:void 0!==a?Math.ceil(a*n)/n:a}}({min:a,max:o},u,i),h=l.min,d=l.max;this._currentRange={min:h,max:d};var p=af(e,t,this._currentRange,this.context);return{min:h,max:d,canRefine:0<f.length,currentRefinement:of(p,this._currentRange),count:f,precision:i}},refine:function(e,t,r){return cf(e,t,r,this._currentRange,this.context)},cleanUp:function(e,t){return r=e,n=t,i=this.context,Zc(n,i,nf+"."+rf(r));var r,n,i},getSearchParameters:function(e,t,r){var n=t.attribute,i=af(t,r,this._currentRange,this.context),a=i.min,o=i.max;return e=e.addDisjunctiveFacet(n),void 0!==a&&(e=e.addNumericRefinement(n,">=",a)),void 0!==o&&(e=e.addNumericRefinement(n,"<=",o)),e},getMetadata:function(t,e){var r=this,n=this._currentRange,i=n.min,a=n.max,o=af(t,e,this._currentRange,this.context),s=o.min,c=o.max,u=[],f=void 0!==s,l=void 0!==c;if(f&&s!==i||l&&c!==a){var h=[f?s+" <= ":"",t.attribute,l?" <= "+c:""];u.push({label:h.join(""),attribute:t.attribute,value:function(e){return cf(t,e,{},r._currentRange,r.context)},currentRefinement:of({min:s,max:c},{min:i,max:a})})}return{id:rf(t),index:zc(this.context),items:u}}});var ff="refinementList";function lf(e){return e.attribute}function hf(e,t,r){return Kc(e,t,r,ff+"."+lf(e),[],function(e){return"string"==typeof e?""===e?[]:[e]:e})}function df(t,e,r,n){var i=hf(e,r,n);return-1===i.indexOf(t)?i.concat([t]):i.filter(function(e){return e!==t})}function pf(e){var t=e.showMore,r=e.limit,n=e.showMoreLimit;return t?n:r}function vf(e,t,r,n){var i,a,o,s=lf(e);return Yc(t,(i={},a=s,o=0<r.length?r:"",a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),n,!0,ff)}var mf=["isRefined","count:desc","name:asc"],gf=kc({displayName:"AlgoliaRefinementList",propTypes:{id:Q.string,attribute:Q.string.isRequired,operator:Q.oneOf(["and","or"]),showMore:Q.bool,limit:Q.number,showMoreLimit:Q.number,defaultRefinement:Q.arrayOf(Q.oneOfType([Q.string,Q.number])),searchable:Q.bool,transformItems:Q.func},defaultProps:{operator:"or",showMore:!1,limit:10,showMoreLimit:20},getProvidedProps:function(t,r,e,n,i){var a=this,o=t.attribute,s=t.searchable,c=$c(e,this.context),u=Boolean(c)&&Boolean(c.getFacetByName(o)),f=Boolean(i&&i[o]&&""!==i.query);if(s&&this.context.multiIndexContext)throw new Error("react-instantsearch: searching in *List is not available when used inside a multi index context");if(!u)return{items:[],currentRefinement:hf(t,r,this.context),canRefine:u,isFromSearch:f,searchable:s};var l=f?i[o].map(function(e){return{label:e.value,value:df(e.value,t,r,a.context),_highlightResult:{label:{value:e.highlighted}},count:e.count,isRefined:e.isRefined}}):c.getFacetValues(o,{sortBy:mf}).map(function(e){return{label:e.name,value:df(e.name,t,r,a.context),count:e.count,isRefined:e.isRefined}}),h=t.transformItems?t.transformItems(l):l;return{items:h.slice(0,pf(t)),currentRefinement:hf(t,r,this.context),isFromSearch:f,searchable:s,canRefine:0<h.length}},refine:function(e,t,r){return vf(e,t,r,this.context)},searchForFacetValues:function(e,t,r){return{facetName:e.attribute,query:r,maxFacetHits:pf(e)}},cleanUp:function(e,t){return r=e,n=t,i=this.context,Zc(n,i,ff+"."+lf(r));var r,n,i},getSearchParameters:function(e,t,r){var n=t.attribute,i="and"===t.operator?"addFacet":"addDisjunctiveFacet",a=i+"Refinement";return e=(e=e.setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,pf(t))}))[i](n),hf(t,r,this.context).reduce(function(e,t){return e[a](n,t)},e)},getMetadata:function(n,i){var e=lf(n),a=this.context;return{id:e,index:zc(this.context),items:0<hf(n,i,a).length?[{attribute:n.attribute,label:n.attribute+": ",currentRefinement:hf(n,i,a),value:function(e){return vf(n,e,[],a)},items:hf(n,i,a).map(function(r){return{label:""+r,value:function(e){var t=hf(n,e,a).filter(function(e){return e!==r});return vf(n,i,t,a)}}})}]:[]}}}),yf=kc({displayName:"AlgoliaScrollTo",propTypes:{scrollOn:Q.string},defaultProps:{scrollOn:"page"},getProvidedProps:function(e,t){var r=e.scrollOn,n=Kc(e,t,this.context,r,null,function(e){return e});if(this._prevSearchState||(this._prevSearchState={}),Jc(this.context)){var i=zc(this.context);t=t.indices?t.indices[i]:{}}var a=Ei(Ei(t,"configure"),r),o=xc(this._prevSearchState,a);return this._prevSearchState=a,{value:n,hasNotChanged:o}}});function bf(e,t,r){return Kc(e,t,r,"query","",function(e){return e||""})}function Rf(e,t,r,n){var i,a,o;return Yc(t,(o=r,(a="query")in(i={})?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),n,!0)}var xf=kc({displayName:"AlgoliaSearchBox",propTypes:{defaultRefinement:Q.string},getProvidedProps:function(e,t,r){return{currentRefinement:bf(e,t,this.context),isSearchStalled:r.isSearchStalled}},refine:function(e,t,r){return Rf(0,t,r,this.context)},cleanUp:function(e,t){return r=t,n=this.context,Zc(r,n,"query");var r,n},getSearchParameters:function(e,t,r){return e.setQuery(bf(t,r,this.context))},getMetadata:function(e,t){var r=this,n=bf(e,t,this.context);return{id:"query",index:zc(this.context),items:null===n?[]:[{label:"query: "+n,value:function(e){return Rf(0,e,"",r.context)},currentRefinement:n}]}}}),Ff=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function _f(e,t,r){return Kc(e,t,r,"sortBy",null,function(e){return e||null})}var jf=kc({displayName:"AlgoliaSortBy",propTypes:{defaultRefinement:Q.string,items:Q.arrayOf(Q.shape({label:Q.string,value:Q.string.isRequired})).isRequired,transformItems:Q.func},getProvidedProps:function(e,t){var r=_f(e,t,this.context),n=e.items.map(function(e){return e.value===r?Ff({},e,{isRefined:!0}):Ff({},e,{isRefined:!1})});return{items:e.transformItems?e.transformItems(n):n,currentRefinement:r}},refine:function(e,t,r){var n,i,a;return Yc(t,(a=r,(i="sortBy")in(n={})?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n),this.context,!0)},cleanUp:function(e,t){return Zc(t,this.context,"sortBy")},getSearchParameters:function(e,t,r){var n=_f(t,r,this.context);return e.setIndex(n)},getMetadata:function(){return{id:"sortBy"}}}),wf=kc({displayName:"AlgoliaStateResults",getProvidedProps:function(e,t,r){return{searchState:t,searchResults:$c(r,this.context),allSearchResults:r.results,searching:r.searching,isSearchStalled:r.isSearchStalled,error:r.error,searchingForFacetValues:r.searchingForFacetValues,props:e}}}),Pf=kc({displayName:"AlgoliaStats",getProvidedProps:function(e,t,r){var n=$c(r,this.context);return n?{nbHits:n.nbHits,processingTimeMS:n.processingTimeMS}:null}});function Sf(e){return e.attribute}var Of="toggle";function Ef(e,t,r){return Kc(e,t,r,Of+"."+Sf(e),!1,function(e){return e||!1})}function Tf(e,t,r,n){var i,a,o,s=Sf(e);return Yc(t,(i={},o=r||!1,(a=s)in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),n,!0,Of)}var Af=kc({displayName:"AlgoliaToggle",propTypes:{label:Q.string.isRequired,attribute:Q.string.isRequired,value:Q.any.isRequired,filter:Q.func,defaultRefinement:Q.bool},getProvidedProps:function(e,t,r){var n=e.attribute,i=e.value,a=$c(r,this.context),o=Ef(e,t,this.context),s=a&&a.getFacetByName(n)?a.getFacetValues(n):null,c=s&&s.length?cn(s,function(e){return e.name===i.toString()}):null,u=c&&c.count,f=s&&s.length?s.reduce(function(e,t){return e+t.count},0):null;return{currentRefinement:o,canRefine:o?null!==f&&0<f:null!==u&&0<u,count:{checked:f,unchecked:u}}},refine:function(e,t,r){return Tf(e,t,r,this.context)},cleanUp:function(e,t){return r=e,n=t,i=this.context,Zc(n,i,Of+"."+Sf(r));var r,n,i},getSearchParameters:function(e,t,r){var n=t.attribute,i=t.value,a=t.filter,o=Ef(t,r,this.context),s=e.addDisjunctiveFacet(n);return o&&(s=s.addDisjunctiveFacetRefinement(n,i),a&&(s=a(s))),s},getMetadata:function(t,e){var r=this,n=Sf(t),i=Ef(t,e,this.context),a=[],o=zc(this.context);return i&&a.push({label:t.label,currentRefinement:i,attribute:t.attribute,value:function(e){return Tf(t,e,!1,r.context)}}),{id:n,index:o,items:a}}});e.connectAutoComplete=au,e.connectBreadcrumb=cu,e.connectConfigure=tu,e.connectCurrentRefinements=fu,e.connectGeoSearch=gu,e.connectHierarchicalMenu=wu,e.connectHighlight=Su,e.connectHits=Ou,e.connectHitsPerPage=Au,e.connectInfiniteHits=Iu,e.connectMenu=Uu,e.connectNumericMenu=Yu,e.connectPagination=Zu,e.connectPoweredBy=Xu,e.connectRange=uf,e.connectRefinementList=gf,e.connectScrollTo=yf,e.connectSearchBox=xf,e.connectSortBy=jf,e.connectStateResults=wf,e.connectStats=Pf,e.connectToggleRefinement=Af,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=Connectors.min.js.map
